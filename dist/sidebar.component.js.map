{"version":3,"sources":["sidebar.component.ts"],"names":[],"mappings":"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","file":"sidebar.component.js","sourcesContent":["import {Component, ElementRef} from \"@angular/core\";\nimport {Location} from \"@angular/common\";\nimport {ROUTER_DIRECTIVES, Router} from \"@angular/router-deprecated\";\n\nimport $ from \"jquery\";\nimport \"semantic-ui/semantic\";\n\nimport {SidebarService} from \"carbon-panel/sidebar.service\"\nimport {SidebarItemsComponent} from \"carbon-panel/sidebar-items.component\";\n\nimport template from \"./sidebar.component.html!\";\nimport style from \"./sidebar.component.css!text\";\n\n@Component( {\n\tselector: \"cp-sidebar\",\n\ttemplate: template,\n\tstyles: [ style ],\n\tdirectives: [ ROUTER_DIRECTIVES, SidebarItemsComponent ],\n\thost: {\n\t\tclass: \"ui inverted vertical menu accordion\"\n\t}\n} )\nexport class SidebarComponent {\n\trouter:Router;\n\telement:ElementRef;\n\t$element:JQuery;\n\tsidebarService:SidebarService;\n\tlocation:Location;\n\n\tconstructor( router:Router, element:ElementRef, location:Location, sidebarService:SidebarService ) {\n\t\tthis.router = router;\n\t\tthis.element = element;\n\t\tthis.sidebarService = sidebarService;\n\t\tthis.location = location;\n\n\t\tthis.sidebarService.toggleEmitter.subscribe(\n\t\t\t() => {\n\t\t\t\tthis.toggle();\n\t\t\t}\n\t\t);\n\t}\n\n\tngAfterViewInit():void {\n\t\tthis.$element = $( this.element.nativeElement );\n\t\tthis.refreshAccordion();\n\t}\n\n\ttoggle():void {\n\t\tthis.sidebarService.toggleMenuButtonEmitter.emit( null );\n\t\tif( this.$element.is( \":visible\" ) ) {\n\t\t\tthis.$element.animate( {\"width\": \"0\"}, 400, () => {\n\t\t\t\tthis.$element.hide();\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.$element.show();\n\t\t\tthis.$element.animate( {\"width\": \"300px\"}, 400 );\n\t\t}\n\t}\n\n\trefreshAccordion():void {\n\t\tthis.$element.accordion( {\n\t\t\tselector: {\n\t\t\t\ttrigger: \".item.app, .item.app .title\",\n\t\t\t\ttitle: \".title\",\n\t\t\t},\n\t\t\texclusive: false\n\t\t} );\n\t}\n\n\tisActive( slug:any, fullRoute?:boolean ):boolean {\n\t\tswitch( typeof slug ) {\n\t\t\tcase \"string\":\n\t\t\t\tlet url:string[] = this.location.path().split( \"/\" );\n\t\t\t\tif( fullRoute ) {\n\t\t\t\t\treturn url.indexOf( slug ) > - 1;\n\t\t\t\t} else {\n\t\t\t\t\treturn url[ url.length - 1 ].indexOf( slug ) > - 1;\n\t\t\t\t}\n\t\t\tcase \"object\":\n\t\t\t\t// TODO: Change this to use a non private variables implementation.\n\t\t\t\tlet instruction = this.router.generate( slug );\n\t\t\t\tlet router = this.router;\n\t\t\t\tif( ! fullRoute ) {\n\t\t\t\t\twhile( instruction.child ) {\n\t\t\t\t\t\tinstruction = instruction.child;\n\t\t\t\t\t\tif( typeof router._childRouter === \"undefined\" || router._childRouter === null ) continue;\n\t\t\t\t\t\tif( typeof router._childRouter._currentInstruction === \"undefined\" || router._childRouter._currentInstruction === null ) continue;\n\t\t\t\t\t\trouter = router._childRouter;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn router.isRouteActive( instruction );\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport default SidebarComponent;\n"],"sourceRoot":"/source/"}