{"version":3,"sources":["sidebar.service.ts"],"names":[],"mappings":"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","file":"sidebar.service.js","sourcesContent":["import { Injectable, EventEmitter } from \"@angular/core\";\n\n@Injectable()\nexport class SidebarService {\n\n\tpublic base:string = \"\";\n\tprivate _items:SidebarItem[] = [];\n\tprivate _toggleEmitter:EventEmitter<any> = new EventEmitter<any>();\n\tprivate _toggledEmitter:EventEmitter<boolean> = new EventEmitter<boolean>();\n\tprivate _isVisible:boolean;\n\n\tget items():SidebarItem[] {\n\t\treturn this._items;\n\t}\n\n\tget toggleEmitter():EventEmitter<any> {\n\t\treturn this._toggleEmitter;\n\t}\n\n\tget toggledEmitter():EventEmitter<any> {\n\t\treturn this._toggledEmitter;\n\t}\n\n\tget isVisible():boolean {\n\t\treturn this._isVisible;\n\t}\n\n\tconstructor() {\n\t\tthis.toggledEmitter.subscribe( ( isVisible:boolean ) => {\n\t\t\tthis._isVisible = isVisible;\n\t\t} );\n\t}\n\n\taddAppEmitter:EventEmitter<any> = new EventEmitter();\n\n\taddItem( item:SidebarLink | SidebarSubmenu | SidebarDivider | SidebarGroup ):void {\n\t\tthis.items.push( item );\n\t\tthis.sortItems( this._items );\n\t}\n\n\taddItems( items:(SidebarLink | SidebarSubmenu | SidebarDivider | SidebarGroup)[] ):void {\n\t\titems.forEach( ( item ) => this.items.push( item ) );\n\t\tthis.sortItems( this._items );\n\t}\n\n\tremoveItem( item:SidebarLink | SidebarSubmenu | SidebarDivider | SidebarGroup ):void {\n\t\tlet index:number = this._items.indexOf( item );\n\t\tif( index === - 1 ) return;\n\t\tthis._items.splice( index, 1 );\n\t}\n\n\ttoggle():void {\n\t\tthis.toggleEmitter.emit( null );\n\t}\n\n\tprivate sortItems( items:SidebarItem[] ):SidebarItem[] {\n\t\titems.sort( ( itemA, itemB ):number => {\n\t\t\tlet indexA:number = \"index\" in itemA && typeof itemA.index === \"number\" && ! isNaN( itemA.index ) ? itemA.index : 0;\n\t\t\tlet indexB:number = \"index\" in itemB && typeof itemB.index === \"number\" && ! isNaN( itemB.index ) ? itemB.index : 0;\n\n\t\t\tif( indexA > indexB ) return 1;\n\t\t\telse if( indexA < indexB ) return - 1;\n\t\t\telse return 0;\n\t\t} );\n\n\t\titems.filter( ( item ) => \"children\" in item && (<any>item).children ).map( ( item ) => (<any>item).children ).forEach( ( children ) => this.sortItems( children ) );\n\n\t\treturn items;\n\t}\n\n\tclear():void {\n\t\tthis.items.splice( 0, this.items.length );\n\t}\n}\n\nexport interface SidebarItem {\n\ttype:\"link\" | \"submenu\" | \"divider\" | \"group\";\n\tindex?:number;\n}\n\nexport interface SidebarLink extends SidebarItem {\n\ttype:\"link\";\n\troute:any[];\n\ticon?:string;\n}\n\nexport interface SidebarSubmenu extends SidebarItem {\n\ttype:\"submenu\";\n\tname:string;\n\tchildren:(SidebarLink | SidebarSubmenu | SidebarDivider | SidebarGroup)[];\n\topen?:boolean;\n\tcloseable?:boolean;\n\tonClose?:EventEmitter<any>;\n\ticon?:string;\n}\n\nexport interface SidebarDivider extends SidebarItem {\n\ttype:\"divider\";\n\tname:string;\n\ticon?:string;\n}\n\nexport interface SidebarGroup extends SidebarItem {\n\ttype:\"group\";\n\tchildren:(SidebarLink | SidebarSubmenu | SidebarDivider | SidebarGroup)[];\n}\n\nexport default SidebarService;\n"]}