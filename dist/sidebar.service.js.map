{"version":3,"sources":["sidebar.service.ts"],"names":[],"mappings":"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","file":"sidebar.service.js","sourcesContent":["import { Injectable, EventEmitter } from \"@angular/core\";\n\n@Injectable()\nexport class SidebarService {\n\tprivate _items:SidebarItem[] = [];\n\tprivate _toggleEmitter:EventEmitter<any> = new EventEmitter();\n\tprivate _toggledEmitter:EventEmitter<boolean> = new EventEmitter();\n\tprivate _isVisible:boolean;\n\n\tget items():SidebarItem[] {\n\t\treturn this._items;\n\t}\n\n\tget toggleEmitter():EventEmitter<any> {\n\t\treturn this._toggleEmitter;\n\t}\n\n\tget toggledEmitter():EventEmitter<any> {\n\t\treturn this._toggledEmitter;\n\t}\n\n\tget isVisible():boolean {\n\t\treturn this._isVisible;\n\t}\n\n\tconstructor() {\n\t\tthis.toggledEmitter.subscribe( ( isVisible:boolean ) => {\n\t\t\tthis._isVisible = isVisible;\n\t\t} );\n\t}\n\n\taddAppEmitter:EventEmitter<any> = new EventEmitter();\n\n\taddItem( item:SidebarLink | SidebarSubmenu | SidebarDivider | SidebarGroup ):void {\n\t\tthis.items.push( item );\n\t\tthis.sortItems( this._items );\n\t}\n\n\taddItems( items:(SidebarLink | SidebarSubmenu | SidebarDivider | SidebarGroup)[] ):void {\n\t\titems.forEach( ( item ) => this.items.push( item ) );\n\t\tthis.sortItems( this._items );\n\t}\n\n\tremoveItem( item:SidebarLink | SidebarSubmenu | SidebarDivider | SidebarGroup ):void {\n\t\tlet index:number = this._items.indexOf( item );\n\t\tif( index === - 1 ) return;\n\t\tthis._items.splice( index, 1 );\n\t}\n\n\ttoggle():void {\n\t\tthis.toggleEmitter.emit( null );\n\t}\n\n\tprivate sortItems( items:SidebarItem[] ):SidebarItem[] {\n\t\titems.sort( ( itemA, itemB ):number => {\n\t\t\tlet indexA:number = \"index\" in itemA && typeof itemA.index === \"number\" && ! isNaN( itemA.index ) ? itemA.index : 0;\n\t\t\tlet indexB:number = \"index\" in itemB && typeof itemB.index === \"number\" && ! isNaN( itemB.index ) ? itemB.index : 0;\n\n\t\t\tif( indexA > indexB ) return 1;\n\t\t\telse if( indexA < indexB ) return - 1;\n\t\t\telse return 0;\n\t\t} );\n\n\t\titems.filter( ( item ) => \"children\" in item && (<any>item).children ).map( ( item ) => (<any>item).children ).forEach( ( children ) => this.sortItems( children ) );\n\n\t\treturn items;\n\t}\n}\n\nexport interface SidebarItem {\n\ttype:\"link\" | \"submenu\" | \"divider\" | \"group\";\n\tindex?:number;\n}\n\nexport interface SidebarLink extends SidebarItem {\n\ttype:\"link\";\n\troute:any[];\n\ticon?:string;\n}\n\nexport interface SidebarSubmenu extends SidebarItem {\n\ttype:\"submenu\";\n\tname:string;\n\tchildren:(SidebarLink | SidebarSubmenu | SidebarDivider | SidebarGroup)[];\n\topen?:boolean;\n\tcloseable?:boolean;\n\tonClose?:EventEmitter<any>;\n\ticon?:string;\n}\n\nexport interface SidebarDivider extends SidebarItem {\n\ttype:\"divider\";\n\tname:string;\n\ticon?:string;\n}\n\nexport interface SidebarGroup extends SidebarItem {\n\ttype:\"group\";\n\tchildren:(SidebarLink | SidebarSubmenu | SidebarDivider | SidebarGroup)[];\n}\n\nexport default SidebarService;\n"],"sourceRoot":"/source/"}