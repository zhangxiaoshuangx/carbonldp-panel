{"version":3,"sources":["my-apps/app-content/app-content.resolver.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,sCAA2C;AAC3C,0CAA0F;AAG1F,2BAA6B;AAE7B,gEAA6D;AAC7D,6DAA0D;AAG1D,IAAa,kBAAkB;IAQ9B,4BAAa,MAAa,EAAE,KAAoB,EAAE,iBAAmC,EAAE,iBAAmC;QACzH,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAC3C,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;IAC5C,CAAC;IAGD,oCAAO,GAAP,UAAS,KAA4B;QAArC,iBAWC;QAVA,IAAI,IAAI,GAAU,KAAK,CAAC,MAAM,CAAE,MAAM,CAAE,CAAC;QACzC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAE,IAAI,CAAE,CAAC,IAAI,CAAE,UAAE,UAA4B;YAC7E,IAAI,GAAG,GAAa,GAAG,CAAC,OAAO,CAAC,UAAU,CAAE,UAAU,CAAE,CAAC;YACzD,KAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,GAAG,CAAC;YACvC,MAAM,CAAC,GAAG,CAAC;QACZ,CAAC,CAAE,CAAC,KAAK,CAAE,UAAE,KAAS;YACrB,OAAO,CAAC,KAAK,CAAE,KAAK,CAAE,CAAC;YACvB,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAE,CAAE,SAAS,EAAE,eAAe,CAAE,CAAE,CAAC;YACvD,MAAM,CAAC,KAAK,CAAC;QACd,CAAC,CAAE,CAAC;IACL,CAAC;IACF,yBAAC;AAAD,CA5BA,AA4BC,IAAA;AA5BY,kBAAkB;IAD9B,iBAAU,EAAE;qCASQ,eAAM,EAAQ,uBAAc,EAAoB,uCAAiB,EAAoB,uCAAiB;GAR9G,kBAAkB,CA4B9B;AA5BY,gDAAkB","file":"app-content.resolver.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Router, Resolve, ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\n\nimport * as CarbonApp from \"carbonldp/App\";\nimport * as App from \"./app\";\n\nimport { AppContextService } from \"./../app-context.service\";\nimport { AppContentService } from \"./app-content.service\";\n\n@Injectable()\nexport class AppContentResolver implements Resolve<App.Class> {\n\n\tprivate router:Router;\n\tprivate activatedRoute:ActivatedRoute;\n\tprivate appContextService:AppContextService;\n\tprivate appContentService:AppContentService;\n\n\n\tconstructor( router:Router, route:ActivatedRoute, appContextService:AppContextService, appContentService:AppContentService ) {\n\t\tthis.router = router;\n\t\tthis.activatedRoute = route;\n\t\tthis.appContextService = appContextService;\n\t\tthis.appContentService = appContentService;\n\t}\n\n\n\tresolve( route:ActivatedRouteSnapshot ):Promise<App.Class> | App.Class {\n\t\tlet slug:string = route.params[ \"slug\" ];\n\t\treturn this.appContextService.get( slug ).then( ( appContext:CarbonApp.Context ) => {\n\t\t\tlet app:App.Class = App.Factory.createFrom( appContext );\n\t\t\tthis.appContentService.activeApp = app;\n\t\t\treturn app;\n\t\t} ).catch( ( error:any ):boolean => {\n\t\t\tconsole.error( error );\n\t\t\tthis.router.navigate( [ \"my-apps\", \"app-not-found\" ] );\n\t\t\treturn false;\n\t\t} );\n\t}\n}"]}