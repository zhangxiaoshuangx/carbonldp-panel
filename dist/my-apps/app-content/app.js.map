{"version":3,"sources":["my-apps/app-content/app.ts"],"names":[],"mappings":";AAEA,IAAY,GAAG,WAAM,mBAAmB,CAAC,CAAA;AAOzC;IAAA;IAuBA,CAAC;IAtBO,kBAAU,GAAjB,UAAmB,UAA4B;QAC9C,IAAI,GAAG,GAAc,UAAU,CAAC,GAAG,CAAC;QACpC,EAAE,CAAA,CAAE,CAAE,CAAE,MAAM,IAAI,GAAG,CAAG,CAAC,CAAC,CAAC;YAC1B,MAAM,CAAC,cAAc,CAAE,GAAG,EAAE,MAAM,EAAE;gBACnC,YAAY,EAAE,IAAI;gBAClB,UAAU,EAAE,KAAK;gBACjB,GAAG,EAAE;oBACJ,MAAM,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAE,CAAC;gBAC7B,CAAC;aACD,CAAE,CAAC;QACL,CAAC;QACD,EAAE,CAAA,CAAE,CAAE,CAAE,SAAS,IAAI,GAAG,CAAG,CAAC,CAAC,CAAC;YAC7B,MAAM,CAAC,cAAc,CAAE,GAAG,EAAE,SAAS,EAAE;gBACtC,YAAY,EAAE,IAAI;gBAClB,UAAU,EAAE,KAAK;gBACjB,QAAQ,EAAE,KAAK;gBACf,KAAK,EAAE,UAAU;aACjB,CAAE,CAAC;QACL,CAAC;QAED,MAAM,CAAC,GAAG,CAAC;IACZ,CAAC;IACF,cAAC;AAAD,CAvBA,AAuBC,IAAA;AAvBY,eAAO,UAuBnB,CAAA;AAED;IAAA;IAaA,CAAC;IAZO,YAAO,GAAd,UAAgB,GAAsB;QACrC,IAAI,GAAG,GAAU,GAAG,CAAC,EAAE,CAAC;QACxB,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAE,GAAG,CAAC,IAAI,CAAC,OAAO,CAAE,GAAG,CAAE,CAAE,CAAC;IAC5D,CAAC;IAEc,wBAAmB,GAAlC,UAAoC,IAAW;QAC9C,EAAE,CAAA,CAAE,IAAI,CAAC,QAAQ,CAAE,GAAG,CAAG,CAAC,CAAC,CAAC;YAC3B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAE,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAE,CAAC;QAC1C,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;IACF,CAAC;IACF,WAAC;AAAD,CAbA,AAaC,IAAA;AAbY,YAAI,OAahB,CAAA","file":"app.js","sourcesContent":["import * as CarbonApp from \"carbonldp/App\";\nimport * as PersistedApp from \"carbonldp/PersistedApp\";\nimport * as URI from \"carbonldp/RDF/URI\";\n\nexport interface Class extends PersistedApp.Class {\n\tslug:string;\n\tcontext:CarbonApp.Context;\n}\n\nexport class Factory {\n\tstatic createFrom( appContext:CarbonApp.Context ):Class {\n\t\tlet app:Class = <any>appContext.app;\n\t\tif( ! ( \"slug\" in app ) ) {\n\t\t\tObject.defineProperty( app, \"slug\", {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn Util.getSlug( this );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\tif( ! ( \"context\" in app ) ) {\n\t\t\tObject.defineProperty( app, \"context\", {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\twritable: false,\n\t\t\t\tvalue: appContext\n\t\t\t} );\n\t\t}\n\n\t\treturn app;\n\t}\n}\n\nexport class Util {\n\tstatic getSlug( app:PersistedApp.Class ):string {\n\t\tlet uri:string = app.id;\n\t\treturn Util.removeTrailingSlash( URI.Util.getSlug( uri ) );\n\t}\n\n\tprivate static removeTrailingSlash( slug:string ):string {\n\t\tif( slug.endsWith( \"/\" ) ) {\n\t\t\treturn slug.substr( 0, slug.length - 1 );\n\t\t} else {\n\t\t\treturn slug;\n\t\t}\n\t}\n}\n\nexport default Class;\n"]}