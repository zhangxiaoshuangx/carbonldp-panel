{"version":3,"sources":["my-apps/app-content/app.ts"],"names":[],"mappings":";;;;;;;;;;;YASA;gBAAA;gBAuBA,CAAC;gBAtBO,kBAAU,GAAjB,UAAmB,UAA4B;oBAC9C,IAAI,GAAG,GAAc,UAAU,CAAC,GAAG,CAAC;oBACpC,EAAE,CAAA,CAAE,CAAE,CAAE,MAAM,IAAI,GAAG,CAAG,CAAC,CAAC,CAAC;wBAC1B,MAAM,CAAC,cAAc,CAAE,GAAG,EAAE,MAAM,EAAE;4BACnC,YAAY,EAAE,IAAI;4BAClB,UAAU,EAAE,KAAK;4BACjB,GAAG,EAAE;gCACJ,MAAM,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAE,CAAC;4BAC7B,CAAC;yBACD,CAAE,CAAC;oBACL,CAAC;oBACD,EAAE,CAAA,CAAE,CAAE,CAAE,SAAS,IAAI,GAAG,CAAG,CAAC,CAAC,CAAC;wBAC7B,MAAM,CAAC,cAAc,CAAE,GAAG,EAAE,SAAS,EAAE;4BACtC,YAAY,EAAE,IAAI;4BAClB,UAAU,EAAE,KAAK;4BACjB,QAAQ,EAAE,KAAK;4BACf,KAAK,EAAE,UAAU;yBACjB,CAAE,CAAC;oBACL,CAAC;oBAED,MAAM,CAAC,GAAG,CAAC;gBACZ,CAAC;gBACF,cAAC;YAAD,CAvBA,AAuBC,IAAA;YAvBD,6BAuBC,CAAA;YAED;gBAAA;gBAaA,CAAC;gBAZO,YAAO,GAAd,UAAgB,GAAsB;oBACrC,IAAI,GAAG,GAAU,GAAG,CAAC,EAAE,CAAC;oBACxB,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAE,GAAG,CAAC,IAAI,CAAC,OAAO,CAAE,GAAG,CAAE,CAAE,CAAC;gBAC5D,CAAC;gBAEc,wBAAmB,GAAlC,UAAoC,IAAW;oBAC9C,EAAE,CAAA,CAAE,IAAI,CAAC,QAAQ,CAAE,GAAG,CAAG,CAAC,CAAC,CAAC;wBAC3B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAE,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAE,CAAC;oBAC1C,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,MAAM,CAAC,IAAI,CAAC;oBACb,CAAC;gBACF,CAAC;gBACF,WAAC;YAAD,CAbA,AAaC,IAAA;YAbD,uBAaC,CAAA","file":"app.js","sourcesContent":["import * as CarbonApp from \"carbonldp/App\";\nimport * as PersistedApp from \"carbonldp/PersistedApp\";\nimport * as URI from \"carbonldp/RDF/URI\";\n\nexport interface Class extends PersistedApp.Class {\n\tslug:string;\n\tcontext:CarbonApp.Context;\n}\n\nexport class Factory {\n\tstatic createFrom( appContext:CarbonApp.Context ):Class {\n\t\tlet app:Class = <any>appContext.app;\n\t\tif( ! ( \"slug\" in app ) ) {\n\t\t\tObject.defineProperty( app, \"slug\", {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn Util.getSlug( this );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\tif( ! ( \"context\" in app ) ) {\n\t\t\tObject.defineProperty( app, \"context\", {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\twritable: false,\n\t\t\t\tvalue: appContext\n\t\t\t} );\n\t\t}\n\n\t\treturn app;\n\t}\n}\n\nexport class Util {\n\tstatic getSlug( app:PersistedApp.Class ):string {\n\t\tlet uri:string = app.id;\n\t\treturn Util.removeTrailingSlash( URI.Util.getSlug( uri ) );\n\t}\n\n\tprivate static removeTrailingSlash( slug:string ):string {\n\t\tif( slug.endsWith( \"/\" ) ) {\n\t\t\treturn slug.substr( 0, slug.length - 1 );\n\t\t} else {\n\t\t\treturn slug;\n\t\t}\n\t}\n}\n\nexport default Class;\n"]}