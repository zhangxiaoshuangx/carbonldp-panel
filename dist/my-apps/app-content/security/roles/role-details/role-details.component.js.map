{"version":3,"sources":["my-apps/app-content/security/roles/role-details/role-details.component.ts"],"names":[],"mappings":"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","file":"role-details.component.js","sourcesContent":["import { Component, Input, Output, EventEmitter } from \"@angular/core\"\n\nimport * as App from \"carbonldp/App\";\nimport * as Agent from \"carbonldp/Auth/Agent\";\nimport * as PersistedRole from \"carbonldp/Auth/PersistedRole\";\nimport * as PersistedAgent from \"carbonldp/Auth/PersistedAgent\";\nimport * as HTTP from \"carbonldp/HTTP\";\nimport * as RDF from \"carbonldp/RDF\";\n\nimport { RolesService } from \"./../roles.service\";\nimport { DocumentExplorerLibrary } from \"carbonldp-panel/document-explorer/document-explorer-library\";\n\nimport template from \"./role-details.component.html!\";\nimport style from \"./role-details.component.css!text\";\n\n\n@Component( {\n\tselector: \"cp-role-details\",\n\ttemplate: template,\n\tstyles: [ style ],\n} )\n\nexport class RoleDetailsComponent {\n\n\tprivate rolesService:RolesService;\n\n\tprivate Modes:Modes = Modes;\n\tprivate roleFormModel:RoleFormModel = {\n\t\tslug: \"\",\n\t\tname: \"\",\n\t\tdescription: \"\",\n\t\tparentRole: \"\",\n\t};\n\tprivate availableRoles:PersistedRole.Class[] = [];\n\n\t@Input() mode:string = Modes.READ;\n\t@Input() role:PersistedRole.Class;\n\t@Input() appContext:App.Context;\n\n\t@Output() onClose:EventEmitter<boolean> = new EventEmitter<boolean>();\n\t@Output() onSuccess:EventEmitter<boolean> = new EventEmitter<boolean>();\n\t@Output() onError:EventEmitter<boolean> = new EventEmitter<boolean>();\n\n\n\tconstructor( rolesService:RolesService ) {\n\t\tthis.rolesService = rolesService;\n\t}\n\n\tngAfterViewInit():void {\n\t\tthis.getAllRoles().then( ( roles:PersistedRole.Class[] ) => {\n\t\t\tthis.availableRoles = roles;\n\t\t} );\n\t}\n\n\tprivate changeMode( mode:string ) {\n\t\tthis.mode = mode;\n\t}\n\n\tprivate onSubmit( data:RoleFormModel, $event:any ):void {\n\t\t$event.preventDefault();\n\t\tconsole.log( data );\n\t\t// switch( this.mode ) {\n\t\t// \tcase Modes.EDIT:\n\t\t// \t\tthis.editAgent( this.agent, data );\n\t\t// \t\tbreak;\n\t\t// \tcase Modes.CREATE:\n\t\t// \t\tthis.createAgent( this.agent, data );\n\t\t// \t\tbreak;\n\t\t// }\n\t}\n\n\tprivate getSanitizedSlug( slug:string ):string {\n\t\treturn DocumentExplorerLibrary.getSanitizedSlug( slug );\n\t}\n\n\tprivate slugLostFocus( evt:any ):void {\n\t\tevt.target.value = DocumentExplorerLibrary.getAppendedSlashSlug( evt.target.value );\n\t}\n\n\tprivate getAllRoles():Promise<PersistedRole.Class[]> {\n\t\treturn this.rolesService.getAll( this.appContext );\n\t}\n\n\tprivate changeRoles( selectedRoles:PersistedRole.Class[] ):void {\n\t\tthis.roleFormModel.parentRole = null;\n\t\tselectedRoles.forEach( ( selectedRole:PersistedRole.Class ) => {\n\t\t\tthis.roleFormModel.parentRole = selectedRole.id;\n\t\t} );\n\t}\n\n\tprivate cancelForm():void {\n\t\tif( this.mode === Modes.CREATE ) {\n\t\t\tthis.close();\n\t\t} else {\n\t\t\tthis.mode = Modes.READ;\n\t\t}\n\t}\n\n\tprivate close():void {\n\t\tthis.onClose.emit( true );\n\t}\n}\n\nexport class Modes {\n\tstatic READ:string = \"READ\";\n\tstatic EDIT:string = \"EDIT\";\n\tstatic CREATE:string = \"CREATE\";\n}\n\nexport interface RoleFormModel {\n\tslug:string;\n\tname:string;\n\tdescription?:string;\n\tparentRole?:string;\n}\n\nexport default RoleDetailsComponent;"]}