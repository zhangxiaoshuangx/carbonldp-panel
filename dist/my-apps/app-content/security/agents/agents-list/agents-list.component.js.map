{"version":3,"sources":["my-apps/app-content/security/agents/agents-list/agents-list.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAmBA;gBAeC,6BAAa,aAA2B;oBAXhC,WAAM,GAA0B,EAAE,CAAC;oBACnC,YAAO,GAAW,KAAK,CAAC;oBAExB,SAAI,GAAU,+BAAiB,CAAC,IAAI,CAAC;oBACrC,sBAAiB,GAAqB,+BAAiB,CAAC;oBAQ/D,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;gBACpC,CAAC;gBAED,sCAAQ,GAAR;oBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBACnB,CAAC;gBAEO,wCAAU,GAAlB;oBAAA,iBAOC;oBANA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;oBACpB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAE,IAAI,CAAC,UAAU,CAAE,CAAC,IAAI,CAAE,UAAE,MAA6B;wBACjF,MAAM,GAAG,MAAM,CAAC,MAAM,CAAE,UAAE,KAA0B,IAAQ,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAE,aAAa,CAAE,KAAK,CAAE,CAAC,CAAA,CAAC,CAAC,CAAE,CAAC;wBACjH,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;wBACrB,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;oBACtB,CAAC,CAAE,CAAC;gBACL,CAAC;gBAEO,uCAAS,GAAjB,UAAmB,KAAW,EAAE,KAA0B;oBACzD,KAAK,CAAC,eAAe,EAAE,CAAC;oBACxB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC9B,CAAC;gBAEO,kCAAI,GAAZ,UAAc,KAAW,EAAE,KAA0B;oBACpD,KAAK,CAAC,eAAe,EAAE,CAAC;oBACxB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC9B,CAAC;gBAEO,qCAAO,GAAf,UAAiB,IAAW;oBAC3B,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAE,IAAI,CAAE,CAAC;gBACjC,CAAC;gBAEO,2CAAa,GAArB;oBACC,IAAI,CAAC,UAAU,EAAE,CAAC;gBACnB,CAAC;gBAEO,0CAAY,GAApB;oBACC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC5B,IAAI,CAAC,IAAI,GAAG,+BAAiB,CAAC,IAAI,CAAC;gBACpC,CAAC;gBAEO,yCAAW,GAAnB;oBACC,IAAI,CAAC,IAAI,GAAG,+BAAiB,CAAC,MAAM,CAAC;gBACtC,CAAC;gBAEM,gDAAkB,GAAzB,UAA2B,KAAW,EAAE,KAAiB;oBACxD,KAAK,CAAC,eAAe,EAAE,CAAC;oBACxB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC5B,CAAC;gBAlDD;oBAAC,YAAK,EAAE;kDAAgB,OAAO;uEAAvB;gBAlBT;oBAAC,gBAAS,CAAE;wBACX,QAAQ,EAAE,gBAAgB;wBAC1B,QAAQ,EAAE,oCAAQ;wBAClB,MAAM,EAAE,CAAE,wCAAK,CAAE;qBACjB,CAAE;;uCAAA;gBAiEH,0BAAC;YAAD,CA/DA,AA+DC,IAAA;YA/DD,qDA+DC,CAAA;YAED,oBAAe,mBAAmB,EAAC","file":"agents-list.component.js","sourcesContent":["import { Component, Input } from \"@angular/core\";\n\nimport * as App from \"carbonldp/App\";\nimport * as Agent from \"carbonldp/Auth/Agent\";\nimport * as PersistedAgent from \"carbonldp/Auth/PersistedAgent\";\nimport * as URI from \"carbonldp/RDF/URI\";\n\nimport { AgentsService } from \"../agents.service\";\nimport { Modes as AgentDetailsModes } from \"../agent-details/agent-details.component\";\n\nimport template from \"./agents-list.component.html!\";\nimport style from \"./agents-list.component.css!text\";\n\n@Component( {\n\tselector: \"cp-agents-list\",\n\ttemplate: template,\n\tstyles: [ style ],\n} )\n\nexport class AgentsListComponent {\n\n\tprivate agentsService:AgentsService;\n\n\tprivate agents:PersistedAgent.Class[] = [];\n\tprivate loading:boolean = false;\n\tprivate inspectingAgent:PersistedAgent.Class;\n\tprivate mode:string = AgentDetailsModes.READ;\n\tprivate AgentDetailsModes:AgentDetailsModes = AgentDetailsModes;\n\tprivate deletingAgent:Agent.Class;\n\n\n\t@Input() appContext:App.Context;\n\n\n\tconstructor( agentsService:AgentsService ) {\n\t\tthis.agentsService = agentsService;\n\t}\n\n\tngOnInit():void {\n\t\tthis.loadAgents();\n\t}\n\n\tprivate loadAgents():void {\n\t\tthis.loading = true;\n\t\tthis.agentsService.getAll( this.appContext ).then( ( agents:PersistedAgent.Class[] ) => {\n\t\t\tagents = agents.filter( ( agent:PersistedAgent.Class ) => { return agent.id.indexOf( \"/agents/me/\" ) === - 1 } );\n\t\t\tthis.loading = false;\n\t\t\tthis.agents = agents;\n\t\t} );\n\t}\n\n\tprivate openAgent( event:Event, agent:PersistedAgent.Class ):void {\n\t\tevent.stopPropagation();\n\t\tthis.inspectingAgent = agent;\n\t}\n\n\tprivate edit( event:Event, agent:PersistedAgent.Class ):void {\n\t\tevent.stopPropagation();\n\t\tthis.inspectingAgent = agent;\n\t}\n\n\tprivate getSlug( slug:string ):string {\n\t\treturn URI.Util.getSlug( slug );\n\t}\n\n\tprivate refreshAgents():void {\n\t\tthis.loadAgents();\n\t}\n\n\tprivate closeDetails():void {\n\t\tthis.inspectingAgent = null;\n\t\tthis.mode = AgentDetailsModes.READ;\n\t}\n\n\tprivate createAgent():void {\n\t\tthis.mode = AgentDetailsModes.CREATE;\n\t}\n\n\tpublic onClickDeleteAgent( event:Event, agent:Agent.Class ):void {\n\t\tevent.stopPropagation();\n\t\tthis.deletingAgent = agent;\n\t}\n}\n\nexport default AgentsListComponent;\n"]}