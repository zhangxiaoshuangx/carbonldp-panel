{"version":3,"sources":["my-apps/app-content/configuration/backup/backup-importer/backup-file-validator.directive.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;YAQA;gBAAA;gBAcA,CAAC;gBAVA,yCAAW,GAAX,UAAa,OAAqB;oBACjC,IAAI,CAAC,cAAc,GAAG,OAAO,CAAE,gBAAgB,CAAE,CAAC,YAAY,CAAC;oBAC/D,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,sBAAsB,CAAE,KAAK,EAAE,IAAI,CAAE,CAAC;gBAC5D,CAAC;gBAED,sCAAQ,GAAR,UAAU,OAAuB;oBAChC,EAAE,CAAA,CAAE,CAAE,CAAE,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,KAAK,iBAAkB,CAAC;wBAAC,MAAM,CAAC,IAAI,CAAC;oBAC5F,EAAE,CAAA,CAAE,CAAE,IAAI,CAAC,cAAe,CAAC;wBAAC,MAAM,CAAC,EAAE,iBAAiB,EAAE,IAAI,EAAE,CAAC;oBAC/D,MAAM,CAAC,EAAE,yBAAyB,EAAE,IAAI,EAAE,CAAC;gBAC5C,CAAC;gBAZD;oBAAC,YAAK,EAAE;;2EAAA;gBACR;oBAAC,YAAK,EAAE;;oEAAA;gBAPT;oBAAC,gBAAS,CAAE;wBACX,QAAQ,EAAE,eAAe;wBACzB,SAAS,EAAE,CAAE,EAAE,OAAO,EAAE,qBAAa,EAAE,WAAW,EAAE,mBAAmB,EAAE,KAAK,EAAE,IAAI,EAAE,CAAE;qBACxF,CAAE;;uCAAA;gBAgBH,0BAAC;YAAD,CAdA,AAcC,IAAA;YAdD,qDAcC,CAAA","file":"my-apps/app-content/configuration/backup/backup-importer/backup-file-validator.directive.js","sourcesContent":["import { Directive, Input, OnChanges, SimpleChanges } from \"@angular/core\";\nimport { AbstractControl, Validator, NG_VALIDATORS } from \"@angular/forms\";\n\n@Directive( {\n\tselector: '[backup-file]',\n\tproviders: [ { provide: NG_VALIDATORS, useExisting: BackupFileValidator, multi: true } ]\n} )\n\nexport class BackupFileValidator implements Validator, OnChanges {\n\t@Input() backupFileBlob;\n\t@Input() control;\n\n\tngOnChanges( changes:SimpleChanges ) {\n\t\tthis.backupFileBlob = changes[ \"backupFileBlob\" ].currentValue;\n\t\tthis.control.control.updateValueAndValidity( false, true );\n\t}\n\n\tvalidate( control:AbstractControl ):any {\n\t\tif( ! ! this.backupFileBlob && this.backupFileBlob.type === \"application/zip\" ) return null;\n\t\tif( ! this.backupFileBlob ) return { \"emptyBackupFile\": true };\n\t\treturn { \"invalidBackupFileFormat\": true };\n\t}\n}"],"sourceRoot":"/source/"}