{"version":3,"sources":["my-apps/app-content/configuration/backup/backups.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAoD,eAAe,CAAC,CAAA;AAEpE,IAAY,GAAG,WAAM,eAAe,CAAC,CAAA;AAGrC,6BAA4B,qBAAqB,CAAC,CAAA;AAClD,IAAY,GAAG,WAAM,YAAY,CAAC,CAAA;AAElC,uCAAqC,uCAErC,CAAC,CAF2E;AAE5E,QAAO,sBAAsB,CAAC,CAAA;AAQ9B;IAQC,0BAAa,WAAuB;QACnC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IAChC,CAAC;IAED,mCAAQ,GAAR;QAAA,iBAOC;QANA,IAAI,CAAC,WAAW,CAAC,YAAY,CAAE,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAE,CAAC,IAAI,CAAE,UAAE,GAA2B;YAC3G,EAAE,CAAA,CAAE,CAAE,CAAE,GAAI,CAAC;gBAAC,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC;YACnC,IAAI;gBAAC,KAAI,CAAC,WAAW,CAAC,kBAAkB,CAAE,KAAI,CAAC,UAAU,CAAE,CAAC,IAAI,CAAE,UAAE,eAAuC;oBAC1G,KAAI,CAAC,SAAS,GAAG,eAAe,CAAC;gBAClC,CAAC,CAAE,CAAC;QACL,CAAC,CAAE,CAAC;IACL,CAAC;IAED,mDAAwB,GAAxB;QACC,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,IAAI,CAAE,IAAI,CAAE,CAAC;IACzD,CAAC;IAlBD;QAAC,gBAAS,CAAE,6CAAoB,CAAE;;kEAAA;IAClC;QAAC,YAAK,EAAE;sCAAgB,OAAO;wDAAvB;IAZT;QAAC,gBAAS,CAAE;YACX,QAAQ,EAAE,WAAW;YACrB,WAAW,EAAE,0BAA0B;YACvC,SAAS,EAAE,CAAG,0BAA0B,CAAG;SAC3C,CAAE;;wBAAA;IA2BH,uBAAC;AAAD,CAzBA,AAyBC,IAAA;AAzBY,wBAAgB,mBAyB5B,CAAA;AAED;kBAAe,gBAAgB,CAAC","file":"backups.component.js","sourcesContent":["import { Component, Input, ViewChild, OnInit } from \"@angular/core\";\n\nimport * as App from \"carbonldp/App\";\nimport * as PersistedDocument from \"carbonldp/PersistedDocument\";\n\nimport { JobsService } from \"../job/jobs.service\";\nimport * as Job from \"../job/job\";\n\nimport { BackupsListComponent } from \"./backups-list/backups-list.component\"\n\nimport \"semantic-ui/semantic\";\n\n@Component( {\n\tselector: \"cp-backup\",\n\ttemplateUrl: \"./backups.component.html\",\n\tstyleUrls: [  \"./backups.component.scss\"  ],\n} )\n\nexport class BackupsComponent implements OnInit {\n\n\tbackupJob:PersistedDocument.Class;\n\tjobsService:JobsService;\n\n\t@ViewChild( BackupsListComponent ) backupsListComponent:BackupsListComponent;\n\t@Input() appContext:App.Context;\n\n\tconstructor( jobsService:JobsService ) {\n\t\tthis.jobsService = jobsService;\n\t}\n\n\tngOnInit():void {\n\t\tthis.jobsService.getJobOfType( Job.Type.EXPORT_BACKUP, this.appContext ).then( ( job:PersistedDocument.Class ) => {\n\t\t\tif( ! ! job ) this.backupJob = job;\n\t\t\telse this.jobsService.createExportBackup( this.appContext ).then( ( exportBackupJob:PersistedDocument.Class ) => {\n\t\t\t\tthis.backupJob = exportBackupJob;\n\t\t\t} );\n\t\t} );\n\t}\n\n\tinvokeRefreshBackupsList():void {\n\t\tthis.backupsListComponent.fetchBackupsList.emit( true );\n\t}\n\n}\n\nexport default BackupsComponent;\n"]}