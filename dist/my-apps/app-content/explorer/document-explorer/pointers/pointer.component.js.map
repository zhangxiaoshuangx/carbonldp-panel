{"version":3,"sources":["my-apps/app-content/explorer/document-explorer/pointers/pointer.component.ts"],"names":[],"mappings":"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","file":"my-apps/app-content/explorer/document-explorer/pointers/pointer.component.js","sourcesContent":["import { Component, ElementRef, Input, Output, SimpleChange, EventEmitter, OnChanges } from \"@angular/core\";\nimport { Control, AbstractControl, Validators } from '@angular/common';\n\nimport * as RDFNode from \"carbonldp/RDF/RDFNode\";\nimport * as URI from \"carbonldp/RDF/URI\";\n\nimport { Modes } from \"./../property/property.component\"\n\nimport $ from \"jquery\";\nimport \"semantic-ui/semantic\";\n\nimport template from \"./pointer.component.html!\";\nimport style from \"./pointer.component.css!text\";\n\n@Component( {\n\tselector: \"tr.cp-pointer\",\n\ttemplate: template,\n\tstyles: [ style ],\n} )\n\nexport class PointerComponent implements OnChanges {\n\n\t$element:JQuery;\n\telement:ElementRef;\n\tprivate tempPointer:any = {};\n\tpointersDropdown:JQuery;\n\tisBNode:boolean = false;\n\tisNamedFragment:boolean = false;\n\texistsOnPointers:boolean = false;\n\n\tprivate _mode = Modes.READ;\n\t@Input() set mode( value:string ) {\n\t\tthis._mode = value;\n\t\tthis.onEditMode.emit( this.mode === Modes.EDIT );\n\t\tif( this.mode === Modes.EDIT ) {\n\t\t\tthis.initializePointersDropdown();\n\t\t}\n\t}\n\n\tget mode() {\n\t\treturn this._mode;\n\t}\n\n\tmodes:Modes = Modes;\n\n\n\t// Inputs and Outputs\n\tprivate _pointer = <PointerRow>{};\n\tget pointer() { return this._pointer; }\n\n\t@Input() set pointer( value:PointerRow ) {\n\t\tthis._pointer = value;\n\t\tif( this.pointer.isBeingCreated ) this.mode = Modes.EDIT;\n\n\t\tif( typeof this.pointer.modified !== \"undefined\" ) {\n\t\t\tthis.id = ! ! this.tempPointer[ \"@id\" ] ? this.tempPointer[ \"@id\" ] : this.pointer.modified[ \"@id\" ];\n\t\t} else if( typeof this.pointer.copy !== \"undefined\" ) {\n\t\t\tthis.id = ! ! this.tempPointer[ \"@id\" ] ? this.tempPointer[ \"@id\" ] : this.pointer.copy[ \"@id\" ];\n\t\t} else if( typeof this.pointer.added !== \"undefined\" ) {\n\t\t\tthis.id = ! ! this.tempPointer[ \"@id\" ] ? this.tempPointer[ \"@id\" ] : this.pointer.added[ \"@id\" ];\n\t\t}\n\t}\n\n\t@Input() documentURI:string = \"\";\n\t@Input() bNodes:RDFNode.Class[] = [];\n\t@Input() namedFragments:RDFNode.Class[] = [];\n\t@Input() canEdit:boolean = true;\n\n\t@Output() onEditMode:EventEmitter<boolean> = new EventEmitter<boolean>();\n\t@Output() onSave:EventEmitter<any> = new EventEmitter<any>();\n\t@Output() onDeletePointer:EventEmitter<PointerRow> = new EventEmitter<PointerRow>();\n\t@Output() onGoToBNode:EventEmitter<string> = new EventEmitter<string>();\n\t@Output() onGoToNamedFragment:EventEmitter<string> = new EventEmitter<string>();\n\n\t// Literal Value;\n\tprivate _id:string = \"\";\n\tget id():string {return this._id;}\n\n\tset id( id:string ) {\n\t\tthis._id = id;\n\t\tif( ! ! this.idInput && this.idInput.value !== this.id )(<Control>this.idInput).updateValue( this.id );\n\t\tthis.checkForChangesOnPointers();\n\t}\n\n\tidInput:AbstractControl = new Control( this.id, Validators.compose( [ Validators.required, this.idValidator.bind( this ) ] ) );\n\n\n\tconstructor( element:ElementRef ) {\n\t\tthis.element = element;\n\t}\n\n\tonEdit( event:Event ):void {\n\t\tthis.mode = Modes.EDIT;\n\t}\n\n\tdeletePointer():void {\n\t\tif( typeof this.pointer.added === \"undefined\" ) {\n\t\t\tthis.pointer.deleted = this.pointer.copy;\n\t\t}\n\t\tthis.onDeletePointer.emit( this.pointer );\n\t}\n\n\tngOnChanges( changes:{[propName:string]:SimpleChange} ):void {\n\t\tif( ( changes[ \"bNodes\" ].currentValue !== changes[ \"bNodes\" ].previousValue ) ||\n\t\t\t( changes[ \"namedFragments\" ].currentValue !== changes[ \"namedFragments\" ].previousValue ) ) {\n\t\t\tthis.checkForChangesOnPointers();\n\t\t}\n\t}\n\n\tcheckForChangesOnPointers():void {\n\t\tif( typeof this.id === \"undefined\" ) return;\n\t\tlet idx:number = this.bNodes.concat( this.namedFragments ).findIndex( ( nfOrBN )=> {return nfOrBN[ \"@id\" ] === this.id || nfOrBN[ \"id\" ] === this.id;} );\n\t\tthis.isBNode = URI.Util.isBNodeID( <string>this.id );\n\t\tthis.isNamedFragment = URI.Util.isFragmentOf( this.id, this.documentURI );\n\t\tthis.existsOnPointers = idx !== - 1;\n\t}\n\n\tcancelEdit():void {\n\t\tthis.mode = Modes.READ;\n\t\tlet copyOrAdded:string = typeof this.pointer.copy !== \"undefined\" ? \"copy\" : \"added\";\n\n\t\tif( typeof this.tempPointer[ \"@id\" ] === \"undefined\" ) {\n\t\t\tthis.id = this.pointer[ copyOrAdded ][ \"@id\" ];\n\t\t\tdelete this.tempPointer[ \"@id\" ];\n\t\t} else this.id = this.tempPointer[ \"@id\" ];\n\n\n\t\tif( typeof this.pointer.added !== \"undefined\" && typeof this.id === \"undefined\" ) {\n\t\t\tthis.onDeletePointer.emit( this.pointer );\n\t\t}\n\t}\n\n\tsave():void {\n\t\tlet copyOrAdded:string = typeof this.pointer.copy !== \"undefined\" ? \"copy\" : \"added\";\n\n\t\tif( typeof this.id !== \"undefined\" && (this.id !== this.pointer[ copyOrAdded ][ \"@id\" ] || this.id !== this.tempPointer[ \"@id\" ] ) ) {\n\t\t\tthis.tempPointer[ \"@id\" ] = this.id;\n\t\t}\n\n\t\tif( (! ! this.pointer.copy) && (this.tempPointer[ \"@id\" ] === this.pointer.copy[ \"@id\" ] ) ) {\n\t\t\tdelete this.tempPointer[ \"@id\" ];\n\t\t\tdelete this.pointer.modified;\n\t\t} else if( ! ! this.pointer.added ) {\n\t\t\tthis.pointer.added = this.tempPointer;\n\t\t} else {\n\t\t\tthis.pointer.modified = this.tempPointer;\n\t\t}\n\n\t\tthis.onSave.emit( this.tempPointer );\n\t\tthis.mode = Modes.READ;\n\t}\n\n\n\tprivate idValidator( control:AbstractControl ):any {\n\t\tif( ! ! control && (typeof control.value === \"undefined\" || control.value.trim().length === 0) ) {\n\t\t\treturn { \"emptyControl\": true };\n\t\t}\n\t\tif( ! ! control ) {\n\t\t\tif( ! control.value.match( /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g ) ) {\n\t\t\t\tif( ! URI.Util.isBNodeID( control.value ) ) return { \"invalidId\": true };\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate initializePointersDropdown():void {\n\t\tthis.pointersDropdown = $( this.element.nativeElement.querySelector( \".fragments.search.dropdown\" ) );\n\t\tif( ! ! this.pointersDropdown ) {\n\t\t\tthis.pointersDropdown.dropdown( {\n\t\t\t\tallowAdditions: true,\n\t\t\t\tonChange: this.changeId.bind( this )\n\t\t\t} );\n\t\t}\n\t\tthis.pointersDropdown.dropdown( \"set selected\", this.id );\n\t}\n\n\tchangeId( id:string, text?:string, choice?:JQuery ):void {\n\t\tif( id === \"empty\" ) id = null;\n\t\t(<Control>this.idInput).updateValue( id === \"empty\" ? \"\" : id );\n\t\tthis.id = id;\n\t}\n\n\tgetFriendlyName( uri:string ):string {\n\t\tif( URI.Util.hasFragment( uri ) )return URI.Util.getFragment( uri );\n\t\treturn URI.Util.getSlug( uri );\n\t}\n\n\tgoToBNode( id:string ):void {\n\t\tthis.onGoToBNode.emit( id );\n\t}\n\n\tgoToNamedFragment( id:string ):void {\n\t\tthis.onGoToNamedFragment.emit( id );\n\t}\n\n}\nexport interface PointerRow {\n\tcopy:Pointer;\n\tmodified?:Pointer;\n\tadded?:Pointer;\n\tdeleted?:Pointer;\n\n\tisBeingCreated?:boolean;\n}\nexport interface Pointer {\n\t\"@id\":string;\n}\n\nexport default PointerComponent;\n"],"sourceRoot":"/source/"}