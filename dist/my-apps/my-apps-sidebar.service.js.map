{"version":3,"sources":["my-apps/my-apps-sidebar.service.ts"],"names":[],"mappings":"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","file":"my-apps-sidebar.service.js","sourcesContent":["import { Injectable, EventEmitter } from \"@angular/core\";\n\nimport { SidebarService, SidebarGroup, SidebarDivider, SidebarSubmenu } from \"./../sidebar.service\";\n\nimport * as App from \"./app-content/app\";\n\n@Injectable()\nexport class MyAppsSidebarService {\n\n\t// TODO: Find a more native approach to make this work with different routing levels 'website.com/app-dev/my-apps/slug/...' and 'workbench.com/my-apps/slug/...'\n\tprivate base:string = \"\";\n\tprivate sidebarService:SidebarService;\n\tprivate openAppsGroup:SidebarGroup;\n\tprivate openApps:Map<App.Class, SidebarSubmenu> = new Map<App.Class, SidebarSubmenu>();\n\tprivate openAppsDivider:SidebarDivider = {\n\t\ttype: \"divider\",\n\t\tname: \"Open Apps\",\n\t\ticon: \"cubes icon\",\n\t\tindex: 0,\n\t};\n\n\tconstructor( sidebarService:SidebarService ) {\n\t\tthis.sidebarService = sidebarService;\n\t\tthis.base = this.sidebarService.base;\n\t\tthis.init();\n\t}\n\n\tinit():void {\n\t\tif( typeof this.openAppsGroup !== \"undefined\" && this.sidebarService.items.findIndex( ( item ) => item === this.openAppsGroup ) !== - 1 ) return;\n\t\tthis.openApps.clear();\n\t\tthis.openAppsGroup = {\n\t\t\ttype: \"group\",\n\t\t\tchildren: [],\n\t\t\tindex: 100,\n\t\t};\n\t\tthis.sidebarService.addItem( this.openAppsGroup );\n\t}\n\n\taddApp( app:App.Class ):void {\n\t\tif( this.openApps.has( app ) ) return;\n\t\tif( this.openApps.size === 0 ) this.addOpenAppsDivider();\n\n\t\tlet removeAppEmitter:EventEmitter<SidebarGroup> = new EventEmitter<SidebarGroup>();\n\t\tremoveAppEmitter.subscribe( () => {\n\t\t\tthis.removeApp( app );\n\t\t} );\n\n\t\tlet appSubmenu:SidebarSubmenu = {\n\t\t\ttype: \"submenu\",\n\t\t\tname: app.name,\n\t\t\tcloseable: true,\n\t\t\tonClose: removeAppEmitter,\n\t\t\tchildren: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\tname: \"Dashboard\",\n\t\t\t\t\ticon: \"bar chart icon\",\n\t\t\t\t\troute: [ this.base, \"my-apps\", app.slug ],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\tname: \"Document Explorer\",\n\t\t\t\t\ticon: \"list layout icon\",\n\t\t\t\t\troute: [ this.base, \"my-apps\", app.slug, \"explore\" ],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\tname: \"SPARQL Client\",\n\t\t\t\t\ticon: \"terminal icon\",\n\t\t\t\t\troute: [ this.base, \"my-apps\", app.slug, \"sparql-client\" ],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\tname: \"Configuration\",\n\t\t\t\t\ticon: \"settings icon\",\n\t\t\t\t\troute: [ this.base, \"my-apps\", app.slug, \"configure\" ],\n\t\t\t\t},\n\t\t\t]\n\t\t};\n\t\tthis.openAppsGroup.children.push( appSubmenu );\n\t\tthis.openApps.set( app, appSubmenu );\n\t}\n\n\topenApp( app:App.Class ):void {\n\t\tif( ! this.openApps.has( app ) ) return;\n\n\t\tlet appSubmenu:SidebarSubmenu = this.openApps.get( app );\n\t\tappSubmenu.open = true;\n\t}\n\n\tcloseApp( app:App.Class ):void {\n\t\tif( ! this.openApps.has( app ) ) return;\n\n\t\tlet appSubmenu:SidebarSubmenu = this.openApps.get( app );\n\t\tappSubmenu.open = false;\n\t}\n\n\tremoveApp( app:App.Class ):void {\n\t\tif( ! this.openApps.has( app ) ) return;\n\n\t\tlet appSubmenu:SidebarSubmenu = this.openApps.get( app );\n\t\tthis.openAppsGroup.children.splice( this.openAppsGroup.children.indexOf( appSubmenu ), 1 );\n\t\tthis.openApps.delete( app );\n\n\t\tif( this.openApps.size === 0 ) this.removeOpenAppsDivider();\n\t}\n\n\tprivate addOpenAppsDivider():void {\n\t\tthis.openAppsGroup.children.push( this.openAppsDivider );\n\t}\n\n\tprivate removeOpenAppsDivider():void {\n\t\tthis.openAppsGroup.children.splice( this.openAppsGroup.children.indexOf( this.openAppsDivider ), 1 );\n\t}\n}\n\nexport default MyAppsSidebarService;\n"]}