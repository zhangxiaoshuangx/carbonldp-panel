<!--<form [ngFormModel]="createAppForm"-->
<!--[ngClass]="{ loading: submitting }"-->
<!--class="ui large form segment createAppForm">-->
<!--<div class="field" [ngClass]="{ error: (!name.pristine && !name.valid) }">-->
<!--<label>Name:</label>-->
<!--<input placeholder="e.g. My First App" type="text" ngControl="name" [(ngModel)]="_name">-->
<!--</div>-->
<!--<div class="field" [ngClass]="{ error: (!slug.pristine && !slug.valid) }">-->
<!--<label>Slug (optional):</label>-->
<!--<input class="slug" placeholder="e.g. my-first-app (optional)" type="text" ngControl="slug" [(ngModel)]="_slug" (blur)="slugLostControl($event)">-->
<!--</div>-->
<!--<div class="field" [ngClass]="{ error: (!description.pristine && !description.valid) }">-->
<!--<label>Description:</label>-->
<!--<textarea rows="2" placeholder="Description" ngControl="description"></textarea>-->
<!--</div>-->
<!--<button class="ui submit button"-->
<!--(click)="onSubmit(createAppForm.value, $event)">-->
<!--Submit-->
<!--</button>-->
<!--</form>-->
<form #createAppForm="ngForm"
      [ngClass]="{ loading: submitting }"
      class="ui large form segment createAppForm">
	<div class="field" [ngClass]="{ error: (!name.pristine && !name.valid) }">
		<label>Name:</label>
		<input placeholder="e.g. My First App"
		       type="text"
		       name="name"
		       [(ngModel)]="createAppFormModel.name"
		       (input)="getSanitizedSlug($event)"
		       required
		       #name="ngModel">
	</div>
	<div class="field" [ngClass]="{ error: (!slug.pristine && !slug.valid) }">
		<label>Slug (optional):</label>
		<input class="slug"
		       placeholder="e.g. my-first-app (optional)"
		       type="text"
		       name="slug"
		       [(ngModel)]="createAppFormModel.slug"
		       (blur)="slugLostControl($event)"
		       #slug="ngModel"
		       cp-slug>
	</div>
	<div class="field" [ngClass]="{ error: (!description.pristine && !description.valid) }">
		<label>Description:</label>
		<textarea rows="2"
		          placeholder="Description"
		          name="description"
		          [(ngModel)]="createAppFormModel.description"
		          #description="ngModel" required></textarea>
	</div>
	<button class="ui submit button"
	        (click)="onSubmit(createAppForm, $event)">
		Submit
	</button>
</form>

<div class="ui bottom attached error message" *ngIf="(!name.pristine && !name.valid) || (!slug.pristine && !slug.valid) || (!description.pristine && !description.valid)">
	<ol class="ui list" *ngIf="!name.valid">
		<li value="*" *ngIf="!name.pristine && name.errors.required">
			The name is required.
		</li>
	</ol>
	<ol class="ui list" *ngIf="!slug.valid">
		<li value="*" *ngIf="!slug.pristine && slug.errors.invalidSlug">
			Invalid slug. Please use only alphanumeric characters and/or dashes (-).
		</li>
	</ol>
	<ol class="ui list" *ngIf="!description.valid">
		<li value="*" *ngIf="!description.pristine && description.errors.required">
			The description is required.
		</li>
	</ol>
</div>


<cp-error-message *ngIf="!!errorMessage"
                  [message]="errorMessage"
                  [closable]="true"
                  (onClose)="clearMessages($event)"></cp-error-message>
<div class="ui bottom attached warning icon message" *ngIf="!!displayWarningMessage">
	<i class="warning sign icon"></i>
	<i class="close icon" (click)="clearMessages($event)"></i>
	<p>The app "<a [routerLink]="['../', persistedSlug]">{{persistedName}}</a>" was created, but no one, except the 'app-admin' role, will be able to access the application.
		You can change this setting through the <a href="https://carbonldp.com/site/documentation/rest-api/getting-started" target="_blank">REST API</a> by granting access to the 'anonymous' role of
		the platform.</p>
</div>
<div class="ui bottom attached success message" *ngIf="!!displaySuccessMessage">
	<i class="close icon" (click)="clearMessages($event)"></i>
	The app "<a [routerLink]="['../', persistedSlug]">{{persistedName}}</a>" was created successfully.
</div>