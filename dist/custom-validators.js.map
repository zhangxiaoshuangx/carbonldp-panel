{"version":3,"sources":["custom-validators.ts"],"names":[],"mappings":"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","file":"custom-validators.js","sourcesContent":["import { Directive, Input, OnChanges, SimpleChanges } from \"@angular/core\";\r\nimport { AbstractControl, Validator, NG_VALIDATORS } from \"@angular/forms\";\r\nimport * as URI from \"carbonldp/RDF/URI\";\r\n\r\n@Directive( {\r\n\tselector: \"[cp-email]\",\r\n\tproviders: [ { provide: NG_VALIDATORS, useExisting: EmailValidator, multi: true } ]\r\n} )\r\nexport class EmailValidator implements Validator {\r\n\tvalidate( control:AbstractControl ):{[key:string]:any;} {\r\n\t\t// RFC 2822 compliant regex\r\n\t\tif( control.value ) {\r\n\t\t\tif( control.value.match( /[a-z0-9!#$%&\"*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\"*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/ ) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t} else {\r\n\t\t\t\treturn { \"invalidEmailAddress\": true };\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n@Directive( {\r\n\tselector: \"[cp-slug]\",\r\n\tproviders: [ { provide: NG_VALIDATORS, useExisting: SlugValidator, multi: true } ]\r\n} )\r\nexport class SlugValidator implements Validator {\r\n\r\n\tvalidate( control:AbstractControl ):{[key:string]:any;} {\r\n\t\tif( control.value ) {\r\n\t\t\tif( control.value.match( /^[a-z0-9]+(?:-[a-z0-9]*)*(?:\\/*)$/ ) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn { \"invalidSlug\": true };\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n@Directive( {\r\n\tselector: \"[cp-match]\",\r\n\tproviders: [ { provide: NG_VALIDATORS, useExisting: MatchValidator, multi: true } ]\r\n} )\r\nexport class MatchValidator implements Validator,OnChanges {\r\n\t@Input() matchTo;\r\n\t@Input() control;\r\n\r\n\tngOnChanges( changes:SimpleChanges ) {\r\n\t\tthis.control.control.updateValueAndValidity( false, true );\r\n\t}\r\n\r\n\tvalidate( control:AbstractControl ):{ [ key:string ]:any; } {\r\n\t\tif( control.value ) {\r\n\t\t\tif( control.value === this.matchTo )\r\n\t\t\t\treturn null;\r\n\t\t\telse {\r\n\t\t\t\treturn { \"matchError\": true };\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n@Directive( {\r\n\tselector: \"[cp-domain]\",\r\n\tproviders: [ { provide: NG_VALIDATORS, useExisting: DomainValidator, multi: true } ]\r\n} )\r\nexport class DomainValidator implements Validator {\r\n\r\n\tvalidate( control:AbstractControl ):{[key:string]:any;} {\r\n\t\tif( control.value ) {\r\n\t\t\tif( control.value.match( /^((cc:|https:|http:|[/][/])([a-z]|[A-Z]|[:0-9]|[/.-]){3,})$/g ) )\r\n\t\t\t\treturn null;\r\n\t\t\telse {\r\n\t\t\t\treturn { \"invalidURLAddress\": true };\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n@Directive( {\r\n\tselector: \"[cp-uri]\",\r\n\tproviders: [ { provide: NG_VALIDATORS, useExisting: URIValidator, multi: true } ]\r\n} )\r\nexport class URIValidator implements Validator {\r\n\r\n\tvalidate( control:AbstractControl ):{[key:string]:any;} {\r\n\t\tif( control.value ) {\r\n\t\t\tif( control.value.match( /^(ftp|https?):\\/\\/(\\w+:{0,1}\\w*@)?((?![^\\/]+\\/(?:ftp|https?):)\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/ ) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//if( control.touched && ! ! control.value ) {\r\n\t\t\t\treturn { \"invalidURIAddress\": true };\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { \"emptyURIAddress\": true };\r\n\t}\r\n}\r\n\r\n@Directive( {\r\n\tselector: \"[cp-fragment]\",\r\n\tproviders: [ { provide: NG_VALIDATORS, useExisting: FragmentValidator, multi: true } ]\r\n} )\r\nexport class FragmentValidator implements Validator {\r\n\r\n\tvalidate( control:AbstractControl ):{[key:string]:any;} {\r\n\t\tif( ! control.value ) return null;\r\n\t\tif( ! control.value.match( /^(ftp|https?):\\/\\/(\\w+:{0,1}\\w*@)?((?![^\\/]+\\/(?:ftp|https?):)\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/ ) ) return { \"invalidURIAddress\": true };\r\n\t\tif( ! URI.Util.hasFragment( control.value ) ) return { \"missingFragment\": true };\r\n\t\tif( control.value.split( \"#\" ).length > 2 ) return { \"multipleFragment\": true };\r\n\t\tif( URI.Util.getFragment( control.value ).trim().length === 0 ) return { \"missingFragment\": true };\r\n\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\n@Directive( {\r\n\tselector: \"[cp-uri-fragment]\",\r\n\tproviders: [ { provide: NG_VALIDATORS, useExisting: URIFragmentValidator, multi: true } ]\r\n} )\r\nexport class URIFragmentValidator implements Validator {\r\n\r\n\tvalidate( control:AbstractControl ):{[key:string]:any;} {\r\n\t\tif( ! control.value ) return null;\r\n\t\tif( ! control.value.match( /^(ftp|https?):\\/\\/(\\w+:{0,1}\\w*@)?((?![^\\/]+\\/(?:ftp|https?):)\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/ ) ) return { \"invalidURIAddress\": true };\r\n\t\tif( ! URI.Util.hasFragment( control.value ) ) return;\r\n\t\tif( control.value.split( \"#\" ).length > 2 ) return { \"multipleFragment\": true };\r\n\t\tif( URI.Util.getFragment( control.value ).trim().length === 0 ) return { \"missingFragment\": true };\r\n\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\n@Directive( {\r\n\tselector: '[cp-required-if]',\r\n\tproviders: [ { provide: NG_VALIDATORS, useExisting: RequiredIfValidator, multi: true } ]\r\n} )\r\nexport class RequiredIfValidator {\r\n\t@Input() condition:boolean;\r\n\r\n\tvalidate( control:AbstractControl ):{ [key:string]:any } {\r\n\t\tif( this.condition && ! control.value ) return { \"requiredIf\": true };\r\n\t\treturn null;\r\n\t}\r\n}"]}