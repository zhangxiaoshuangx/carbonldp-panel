{"version":3,"sources":["document-explorer/document-viewer/document-viewer.component.ts"],"names":[],"mappings":"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","file":"document-viewer.component.js","sourcesContent":["import { Component, ElementRef, Input, Output, EventEmitter, SimpleChange, ViewChild, AfterViewInit, OnChanges } from \"@angular/core\";\n\nimport * as RDFNode from \"carbonldp/RDF/Node\";\nimport * as SDKContext from \"carbonldp/SDKContext\";\nimport * as RDFDocument from \"carbonldp/RDF/Document\";\nimport * as JSONLDParser from \"carbonldp/JSONLD/Parser\";\nimport { Error as HTTPError } from \"carbonldp/HTTP/Errors\";\n\nimport { DocumentsResolverService } from \"./../documents-resolver.service\";\nimport { RootRecords } from \"./../document-resource/document-resource.component\";\nimport { BlankNodesComponent, BlankNodesRecords } from \"./../blank-nodes/blank-nodes.component\";\nimport { NamedFragmentsComponent, NamedFragmentsRecords }from \"./../named-fragments/named-fragments.component\";\nimport { BlankNodeRow } from \"./../blank-nodes/blank-node.component\";\nimport { NamedFragmentRow } from \"./../named-fragments/named-fragment.component\";\n\nimport $ from \"jquery\";\nimport \"semantic-ui/semantic\";\n\n@Component( {\n\tselector: \"cp-document-viewer\",\n\thost: { \"[class.ui]\": \"true\", \"[class.basic]\": \"true\", \"[class.segment]\": \"true\", },\n\ttemplate: require( \"./document-viewer.component.html\" ),\n\tstyles: [ require( \"./document-viewer.component.css\" ) ],\n} )\n\nexport class DocumentViewerComponent implements AfterViewInit, OnChanges {\n\telement:ElementRef;\n\t$element:JQuery;\n\t$successMessage:JQuery;\n\tsuccessMessageContent:string = \"\";\n\n\tsections:string[] = [ \"bNodes\", \"namedFragments\", \"documentResource\" ];\n\trootNode:RDFNode.Class;\n\tbNodes:BlankNodeRow[] = [];\n\tnamedFragments:NamedFragmentRow[] = [];\n\tdocumentURI:string = \"\";\n\n\trootNodeHasChanged:boolean = false;\n\trootNodeRecords:RootRecords;\n\tbNodesHaveChanged:boolean = false;\n\tbNodesChanges:BlankNodesRecords;\n\tnamedFragmentsHaveChanged:boolean = false;\n\tnamedFragmentsChanges:NamedFragmentsRecords;\n\n\tget documentContentHasChanged() {\n\t\treturn this.rootNodeHasChanged || this.bNodesHaveChanged || this.namedFragmentsHaveChanged;\n\t}\n\n\n\tdocumentsResolverService:DocumentsResolverService;\n\t@Input() uri:string;\n\t@Input() documentContext:SDKContext.Class;\n\t@Input() displaySuccessMessage:EventEmitter<string> = new EventEmitter<string>();\n\tprivate _document:RDFDocument.Class;\n\t@Input() set document( value:RDFDocument.Class ) {\n\t\tthis._document = value;\n\t\tthis.receiveDocument( value );\n\t}\n\n\tget document():RDFDocument.Class {return this._document;}\n\n\n\t@Output() onError:EventEmitter<HTTPError> = new EventEmitter<HTTPError>();\n\t@Output() onOpenNode:EventEmitter<string> = new EventEmitter<string>();\n\t@Output() onRefreshNode:EventEmitter<string> = new EventEmitter<string>();\n\t@Output() onLoadingDocument:EventEmitter<boolean> = new EventEmitter<boolean>();\n\t@Output() onSavingDocument:EventEmitter<boolean> = new EventEmitter<boolean>();\n\t@Output() onRefreshDocument:EventEmitter<string> = new EventEmitter<string>();\n\n\t@ViewChild( BlankNodesComponent ) documentBNodes:BlankNodesComponent;\n\t@ViewChild( NamedFragmentsComponent ) documentNamedFragments:NamedFragmentsComponent;\n\n\tprivate _savingDocument:boolean = false;\n\tset savingDocument( value:boolean ) {\n\t\tthis._savingDocument = value;\n\t\tthis.onSavingDocument.emit( value );\n\t}\n\n\tget savingDocument():boolean { return this._savingDocument; }\n\n\tprivate _loadingDocument:boolean = false;\n\tset loadingDocument( value:boolean ) {\n\t\tthis._loadingDocument = value;\n\t\tthis.onLoadingDocument.emit( value );\n\t}\n\n\tget loadingDocument():boolean { return this._loadingDocument; }\n\n\n\tconstructor( element:ElementRef, documentsResolverService:DocumentsResolverService ) {\n\t\tthis.element = element;\n\t\tthis.documentsResolverService = documentsResolverService;\n\t}\n\n\n\tngAfterViewInit():void {\n\t\tthis.$element = $( this.element.nativeElement );\n\t\tthis.$successMessage = this.$element.find( \".success.message\" );\n\t\tthis.displaySuccessMessage.subscribe( ( content:string ) => {\n\t\t\tthis.showSuccessMessage( content, 2500 );\n\t\t} );\n\t}\n\n\tngOnChanges( changes:{ [propName:string]:SimpleChange } ):void {\n\t\tif( changes[ \"uri\" ] && ! ! changes[ \"uri\" ].currentValue && changes[ \"uri\" ].currentValue !== changes[ \"uri\" ].previousValue ) {\n\t\t\tthis.loadingDocument = true;\n\t\t\tthis.getDocument( this.uri, this.documentContext ).then( ( document:RDFDocument.Class ) => {\n\t\t\t\tthis.document = document[ 0 ];\n\t\t\t} );\n\t\t}\n\t}\n\n\treceiveDocument( document:RDFDocument.Class ):void {\n\t\tif( ! ! document ) {\n\t\t\tthis.loadingDocument = true;\n\t\t\tthis.setRoot();\n\t\t\tthis.generateFragments();\n\t\t\tthis.clearDocumentChanges();\n\t\t\tthis.loadingDocument = false;\n\t\t\tthis.documentURI = this.document[ \"@id\" ];\n\n\t\t\tsetTimeout( () => {\n\t\t\t\tthis.goToSection( \"documentResource\" );\n\t\t\t\tthis.initializeTabs();\n\t\t\t}, 250 );\n\t\t}\n\t}\n\n\tsetRoot():void {\n\t\tthis.rootNode = RDFDocument.Util.getDocumentResources( this.document )[ 0 ];\n\t}\n\n\tgetDocument( uri:string, documentContext:SDKContext.Class ):Promise<RDFDocument.Class> {\n\t\treturn this.documentsResolverService.get( uri, documentContext );\n\t}\n\n\tgenerateFragments():void {\n\t\tthis.bNodes = RDFDocument.Util.getBNodeResources( this.document ).map(\n\t\t\t( bNode:RDFNode.Class ) => {\n\t\t\t\treturn {\n\t\t\t\t\tid: bNode[ \"@id\" ],\n\t\t\t\t\tbNodeIdentifier: bNode[ \"https://carbonldp.com/ns/v1/platform#bNodeIdentifier\" ][ 0 ][ \"@value\" ],\n\t\t\t\t\tcopy: bNode\n\t\t\t\t}\n\t\t\t} );\n\t\tthis.namedFragments = RDFDocument.Util.getFragmentResources( this.document ).map( ( namedFragment:RDFNode.Class ) => {\n\t\t\treturn {\n\t\t\t\tid: namedFragment[ \"@id\" ],\n\t\t\t\tname: namedFragment[ \"@id\" ],\n\t\t\t\tcopy: namedFragment\n\t\t\t}\n\t\t} );\n\t}\n\n\topenBlankNode( id:string ):void {\n\t\tthis.documentBNodes.openBlankNode( id );\n\t\tthis.goToSection( \"bNodes\" );\n\t}\n\n\topenNamedFragment( id:string ):void {\n\t\tthis.documentNamedFragments.openNamedFragment( id );\n\t\tthis.goToSection( \"namedFragments\" );\n\t}\n\n\tinitializeTabs() {\n\t\tthis.$element.find( \".secondary.menu.document.tabs .item\" ).tab();\n\t}\n\n\tgoToSection( section:string ):void {\n\t\tif( this.sections.indexOf( section ) === - 1 ) return;\n\t\tthis.scrollTo( \">div:first-child\" );\n\t\tthis.$element.find( \".secondary.menu.document.tabs .item\" ).tab( \"changeTab\", section );\n\t}\n\n\tregisterRootNodeChanges( records:RootRecords ):void {\n\t\tthis.rootNodeRecords = records;\n\t\tthis.rootNodeHasChanged = records.changes.size > 0 || records.additions.size > 0 || records.deletions.size > 0;\n\t}\n\n\tregisterBlankNodesChanges( bNodeChanges:BlankNodesRecords ):void {\n\t\tthis.bNodesChanges = bNodeChanges;\n\t\tthis.bNodesHaveChanged = bNodeChanges.changes.size > 0 || bNodeChanges.additions.size > 0 || bNodeChanges.deletions.size > 0;\n\t}\n\n\tregisterNamedFragmentsChanges( namedFragmentsChanges:NamedFragmentsRecords ):void {\n\t\tthis.namedFragmentsChanges = namedFragmentsChanges;\n\t\tthis.namedFragmentsHaveChanged = namedFragmentsChanges.changes.size > 0 || namedFragmentsChanges.additions.size > 0 || namedFragmentsChanges.deletions.size > 0;\n\t}\n\n\tmodifyRootNodeWithChanges( rootNode:RDFNode.Class ):void {\n\t\tif( ! ! this.rootNodeRecords ) {\n\t\t\tthis.rootNodeRecords.deletions.forEach( ( property, key ) => {\n\t\t\t\tdelete rootNode[ key ];\n\t\t\t} );\n\t\t\tthis.rootNodeRecords.changes.forEach( ( property, key ) => {\n\t\t\t\tif( property.modified.id !== property.modified.name ) {\n\t\t\t\t\tdelete rootNode[ key ];\n\t\t\t\t\trootNode[ property.modified.name ] = property.modified.value;\n\t\t\t\t} else {\n\t\t\t\t\trootNode[ key ] = property.modified.value;\n\t\t\t\t}\n\t\t\t} );\n\t\t\tthis.rootNodeRecords.additions.forEach( ( property, key ) => {\n\t\t\t\trootNode[ key ] = property.added.value;\n\t\t\t} );\n\n\t\t}\n\t}\n\n\tmodifyBNodesWithChanges( document:RDFDocument.Class ):void {\n\t\tlet tempIdx:number;\n\t\tif( ! this.bNodesChanges ) return;\n\t\tthis.bNodesChanges.deletions.forEach( ( blankNodeRow:BlankNodeRow, bNodeId ) => {\n\t\t\ttempIdx = document[ \"@graph\" ].findIndex( (bNode => { return bNode[ \"@id\" ] === bNodeId }) );\n\t\t\tdocument[ \"@graph\" ].splice( tempIdx, 1 );\n\t\t} );\n\t\ttempIdx = - 1;\n\t\tthis.bNodesChanges.changes.forEach( ( blankNodeRow:BlankNodeRow, bNodeId ) => {\n\t\t\ttempIdx = document[ \"@graph\" ].findIndex( (bNode => { return bNode[ \"@id\" ] === bNodeId }) );\n\t\t\tdocument[ \"@graph\" ][ tempIdx ] = blankNodeRow.modified;\n\t\t} );\n\t\tthis.bNodesChanges.additions.forEach( ( blankNodeRow:BlankNodeRow, bNodeId ) => {\n\t\t\tdocument[ \"@graph\" ].push( blankNodeRow.added );\n\t\t} );\n\t}\n\n\tmodifyNamedFragmentsWithChanges( document:RDFDocument.Class ):void {\n\t\tlet tempIdx:number;\n\t\tif( ! this.namedFragmentsChanges ) return;\n\t\tthis.namedFragmentsChanges.deletions.forEach( ( namedFragmentRow:NamedFragmentRow, namedFragmentId ) => {\n\t\t\ttempIdx = document[ \"@graph\" ].findIndex( (namedFragment => { return namedFragment[ \"@id\" ] === namedFragmentId }) );\n\t\t\tdocument[ \"@graph\" ].splice( tempIdx, 1 );\n\t\t} );\n\t\ttempIdx = - 1;\n\t\tthis.namedFragmentsChanges.changes.forEach( ( namedFragmentRow:NamedFragmentRow, namedFragmentId ) => {\n\t\t\ttempIdx = document[ \"@graph\" ].findIndex( (namedFragment => { return namedFragment[ \"@id\" ] === namedFragmentId }) );\n\t\t\tdocument[ \"@graph\" ][ tempIdx ] = namedFragmentRow.modified;\n\t\t} );\n\t\tthis.namedFragmentsChanges.additions.forEach( ( namedFragmentRow:NamedFragmentRow, namedFragmentId ) => {\n\t\t\tdocument[ \"@graph\" ].push( namedFragmentRow.added );\n\t\t} );\n\t}\n\n\tclearDocumentChanges():void {\n\t\tthis.rootNodeRecords = new RootRecords();\n\t\tthis.bNodesChanges = new BlankNodesRecords();\n\t\tthis.namedFragmentsChanges = new BlankNodesRecords();\n\t\tthis.rootNodeHasChanged = false;\n\t\tthis.bNodesHaveChanged = false;\n\t\tthis.namedFragmentsHaveChanged = false;\n\t}\n\n\tsaveDocument():void {\n\t\tthis.savingDocument = true;\n\t\tlet backupDocument:RDFDocument.Class = JSON.parse( JSON.stringify( this.document ) );\n\t\tlet backupRootNode:RDFNode.Class = RDFDocument.Util.getDocumentResources( backupDocument )[ 0 ];\n\t\tthis.modifyRootNodeWithChanges( backupRootNode );\n\t\tthis.modifyBNodesWithChanges( backupDocument );\n\t\tthis.modifyNamedFragmentsWithChanges( backupDocument );\n\t\tlet body:string = JSON.stringify( backupDocument, null, \"\\t\" );\n\t\tthis.documentsResolverService.update( backupDocument[ \"@id\" ], body, this.documentContext ).then(\n\t\t\t( updatedDocument:RDFDocument.Class ) => {\n\t\t\t\tthis.document = updatedDocument;\n\t\t\t\tthis.showSuccessMessage( \"<p>Changes saved successfully</p>\", 4500 );\n\t\t\t}\n\t\t).catch( ( error:HTTPError ) => {\n\t\t\tthis.onError.emit( error );\n\t\t} ).then( () => {\n\t\t\tthis.savingDocument = false;\n\t\t\tthis.rootNodeHasChanged = this.rootNodeRecords.changes.size > 0 || this.rootNodeRecords.additions.size > 0 || this.rootNodeRecords.deletions.size > 0;\n\t\t\tthis.bNodesHaveChanged = this.bNodesChanges.changes.size > 0 || this.bNodesChanges.additions.size > 0 || this.bNodesChanges.deletions.size > 0;\n\t\t\tthis.namedFragmentsHaveChanged = this.namedFragmentsChanges.changes.size > 0 || this.namedFragmentsChanges.additions.size > 0 || this.namedFragmentsChanges.deletions.size > 0;\n\t\t} );\n\t}\n\n\tgetErrors( error:HTTPError ):Promise<any[]> {\n\t\tlet parser:JSONLDParser.Class = new JSONLDParser.Class();\n\t\tlet mainError = {};\n\t\tlet errors:any[] = [];\n\t\treturn parser.parse( error.response.data ).then( ( mainErrors ) => {\n\t\t\tmainError = mainErrors.find( ( error ) => { return error[ \"@type\" ].indexOf( \"https://carbonldp.com/ns/v1/platform#ErrorResponse\" ) !== - 1} );\n\t\t\terrors = mainErrors.filter( ( error ) => { return error[ \"@type\" ].indexOf( \"https://carbonldp.com/ns/v1/platform#Error\" ) !== - 1} );\n\t\t\treturn errors;\n\t\t} );\n\t}\n\n\tcloseMessage( message:HTMLElement ):void {\n\t\t$( message ).transition( \"fade\" );\n\t}\n\n\tshowSuccessMessage( content:string, timeout?:number ):void {\n\t\tthis.successMessageContent = content;\n\t\tthis.$successMessage.transition( {\n\t\t\tonComplete: () => {\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tif( ! this.$successMessage.hasClass( \"hidden\" ) ) this.$successMessage.transition( \"fade\" );\n\t\t\t\t\tthis.successMessageContent = \"\";\n\t\t\t\t}, typeof timeout !== \"undefined\" ? timeout : 2500 );\n\t\t\t}\n\t\t} );\n\t}\n\n\tprivate beforeRefreshDocument( documentURI:string ):void {\n\t\tif( this.documentContentHasChanged ) this.toggleConfirmRefresh();\n\t\telse this.refreshDocument( documentURI );\n\t}\n\n\tprivate refreshDocument( documentURI:string ):void {\n\t\tthis.onRefreshDocument.emit( documentURI );\n\t\tthis.$element.find( \".unsaved.prompt.message\" ).transition( { animation: \"fade\" } ).transition( \"hide\" );\n\t}\n\n\tprivate toggleConfirmRefresh():void {\n\t\tthis.$element.find( \".unsaved.prompt.message\" ).transition( { animation: \"fade\" } );\n\t}\n\n\n\tprivate scrollTo( selector:string ):void {\n\t\tif( ! this.$element ) return;\n\t\tlet divPosition:JQueryCoordinates = this.$element.find( selector ).position();\n\t\tif( ! divPosition ) return;\n\t\tthis.$element.animate( { scrollTop: divPosition.top }, \"fast\" );\n\t}\n}\n\nexport default DocumentViewerComponent;"]}