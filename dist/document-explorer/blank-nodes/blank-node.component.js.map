{"version":3,"sources":["document-explorer/blank-nodes/blank-node.component.ts"],"names":[],"mappings":"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","file":"blank-node.component.js","sourcesContent":["import { Component, ElementRef, Input, Output, EventEmitter, AfterViewInit } from \"@angular/core\";\n\nimport * as RDFNode from \"carbonldp/RDF/Node\";\n\nimport { Property, PropertyRow, Modes } from \"./../property/property.component\";\n\nimport * as $ from \"jquery\";\nimport \"semantic-ui/semantic\";\n\n@Component( {\n\tselector: \"cp-blank-node\",\n\ttemplateUrl: \"./blank-node.component.html\",\n\tstyles: [ \":host { display:block; }\" ],\n} )\n\nexport class BlankNodeComponent implements AfterViewInit {\n\n\telement:ElementRef;\n\t$element:JQuery;\n\tmodes:Modes = Modes;\n\trecords:BlankNodeRecords;\n\tnonEditableProperties:string[] = [ \"@id\", \"https://carbonldp.com/ns/v1/platform#bNodeIdentifier\" ];\n\tcopyOrAdded:string = \"\";\n\ttempPropertiesNames:string[] = [];\n\n\trootNode:RDFNode.Class;\n\tproperties:PropertyRow[];\n\texistingPropertiesNames:string[] = [];\n\n\tprivate _bNodeHasChanged:boolean;\n\tset bNodeHasChanged( hasChanged:boolean ) {\n\t\tthis._bNodeHasChanged = hasChanged;\n\t\tdelete this.blankNode.modified;\n\t\tdelete this.blankNode.records;\n\t\tif( hasChanged ) {\n\t\t\tthis.blankNode.records = this.records;\n\t\t\tif( typeof this.blankNode.added !== \"undefined\" ) this.blankNode.added = this.getRawVersion();\n\t\t\telse this.blankNode.modified = this.getRawVersion();\n\t\t}\n\t\tthis.onChanges.emit( this.blankNode );\n\t}\n\n\tget bNodeHasChanged() {\n\t\treturn this._bNodeHasChanged;\n\t}\n\n\t@Input() blankNodes:BlankNodeRow[] = [];\n\t@Input() namedFragments:RDFNode.Class[] = [];\n\t@Input() canEdit:boolean = true;\n\t@Input() documentURI:string = \"\";\n\n\tprivate _blankNode:BlankNodeRow;\n\t@Input() set blankNode( blankNode:BlankNodeRow ) {\n\t\tthis._blankNode = blankNode;\n\t\tthis.rootNode = blankNode.copy;\n\t\tif( ! ! blankNode.records ) this.records = blankNode.records;\n\t\tthis.getProperties();\n\t}\n\n\tget blankNode():BlankNodeRow { return this._blankNode; }\n\n\t@Output() onOpenBlankNode:EventEmitter<string> = new EventEmitter<string>();\n\t@Output() onOpenNamedFragment:EventEmitter<string> = new EventEmitter<string>();\n\t@Output() onChanges:EventEmitter<BlankNodeRow> = new EventEmitter<BlankNodeRow>();\n\n\n\tconstructor( element:ElementRef ) {\n\t\tthis.element = element;\n\t}\n\n\tngAfterViewInit():void {\n\t\tthis.$element = $( this.element.nativeElement );\n\t}\n\n\topenBlankNode( id:string ):void {\n\t\tthis.onOpenBlankNode.emit( id );\n\t}\n\n\topenNamedFragment( id:string ):void {\n\t\tthis.onOpenNamedFragment.emit( id );\n\t}\n\n\tchangeProperty( property:PropertyRow, index:number ):void {\n\t\tif( typeof this.records === \"undefined\" ) this.records = new BlankNodeRecords();\n\t\tif( typeof property.modified !== \"undefined\" ) {\n\t\t\tthis.records.changes.set( property.modified.id, property );\n\t\t} else if( typeof property.added === \"undefined\" ) {\n\t\t\tthis.records.changes.delete( property.copy.id );\n\t\t}\n\t\tif( typeof property.added !== \"undefined\" ) {\n\t\t\tthis.records.additions.delete( property.added.id );\n\t\t\tproperty.added.id = property.added.name;\n\t\t\tthis.records.additions.set( property.added.id, property );\n\t\t}\n\t\tthis.updateExistingProperties();\n\t}\n\n\tdeleteProperty( property:PropertyRow, index:number ):void {\n\t\tif( typeof this.records === \"undefined\" ) this.records = new BlankNodeRecords();\n\t\tif( typeof property.added !== \"undefined\" ) {\n\t\t\tthis.records.additions.delete( property.added.id );\n\t\t\tthis.properties.splice( index, 1 );\n\t\t} else if( typeof property.deleted !== \"undefined\" ) {\n\t\t\tthis.records.deletions.set( property.deleted.id, property );\n\t\t}\n\t\tthis.updateExistingProperties();\n\t}\n\n\taddProperty( property:PropertyRow, index:number ):void {\n\t\tif( typeof this.records === \"undefined\" ) this.records = new BlankNodeRecords();\n\t\tif( typeof property.added !== \"undefined\" ) {\n\t\t\tif( property.added.id === property.added.name ) {\n\t\t\t\tthis.records.additions.set( property.added.id, property );\n\t\t\t} else {\n\t\t\t\tthis.records.additions.delete( property.added.id );\n\t\t\t\tproperty.added.id = property.added.name;\n\t\t\t\tthis.records.additions.set( property.added.name, property );\n\t\t\t}\n\t\t}\n\t\tthis.updateExistingProperties();\n\t}\n\n\tcreateProperty( property:Property, propertyRow:PropertyRow ):void {\n\t\tlet numberOfProperty:number = ! ! this.records ? (this.records.additions.size + 1) : 1;\n\t\tlet newProperty:PropertyRow = {\n\t\t\tadded: <Property>{\n\t\t\t\tid: \"\",\n\t\t\t\tname: \"http://www.example.com#New Property \" + numberOfProperty,\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tisBeingCreated: true,\n\t\t\tisBeingModified: false,\n\t\t\tisBeingDeleted: false\n\t\t};\n\t\tthis.properties.splice( 2, 0, newProperty );\n\t\t// Animates created property\n\t\tsetTimeout( () => {\n\t\t\tlet createdPropertyComponent:JQuery = this.$element.find( \"cp-property.added-property\" ).first();\n\t\t\tcreatedPropertyComponent.addClass( \"transition hidden\" );\n\t\t\tcreatedPropertyComponent.transition( { animation: \"drop\" } );\n\t\t} );\n\t}\n\n\tcanEditProperty( property:PropertyRow ):boolean {\n\t\tlet copyOrAdded:string = ! ! property.added ? \"added\" : \"copy\";\n\t\treturn ( this.nonEditableProperties.indexOf( property[ copyOrAdded ].name ) === - 1 ) && this.canEdit;\n\t}\n\n\tgetProperties():void {\n\t\tthis.updateExistingProperties();\n\t}\n\n\tupdateExistingProperties():void {\n\t\tthis.properties = [];\n\t\tthis.existingPropertiesNames = Object.keys( this.rootNode );\n\t\tthis.sortFirstProperties( this.existingPropertiesNames, this.nonEditableProperties );\n\t\tthis.existingPropertiesNames.forEach( ( propName:string ) => {\n\t\t\tthis.properties.push( {\n\t\t\t\tcopy: {\n\t\t\t\t\tid: propName,\n\t\t\t\t\tname: propName,\n\t\t\t\t\tvalue: this.rootNode[ propName ]\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t\tif( ! this.records ) return;\n\t\tthis.records.additions.forEach( ( value, key ) => {\n\t\t\tthis.existingPropertiesNames.push( key );\n\t\t\tthis.properties.splice( 2, 0, value );\n\t\t} );\n\t\tlet idx:number;\n\t\tthis.records.changes.forEach( ( value, key ) => {\n\t\t\tif( value.modified.id !== value.modified.name ) {\n\t\t\t\tidx = this.existingPropertiesNames.indexOf( value.modified.id );\n\t\t\t\tif( idx !== - 1 ) this.existingPropertiesNames.splice( idx, 1, value.modified.name );\n\t\t\t}\n\t\t\tidx = this.properties.findIndex( ( property:PropertyRow ) => { return ! ! property.copy && property.copy.id === key} );\n\t\t\tif( idx !== - 1 ) this.properties.splice( idx, 1, value );\n\t\t} );\n\t\tthis.records.deletions.forEach( ( value, key ) => {\n\t\t\tidx = this.existingPropertiesNames.indexOf( key );\n\t\t\tif( idx !== - 1 ) this.existingPropertiesNames.splice( idx, 1 );\n\n\t\t\tidx = this.properties.findIndex( ( property:PropertyRow ) => { return ! ! property.copy && property.copy.id === key} );\n\t\t\tif( idx !== - 1 ) this.properties.splice( idx, 1 );\n\t\t} );\n\t\tthis.bNodeHasChanged = this.records.changes.size > 0 || this.records.additions.size > 0 || this.records.deletions.size > 0;\n\t}\n\n\tgetRawVersion():RDFNode.Class {\n\t\tlet rawNode:RDFNode.Class = Object.assign( {}, this.blankNode.added ? this.blankNode.added : this.blankNode.copy );\n\t\tthis.records.deletions.forEach( ( property, key ) => {\n\t\t\tdelete rawNode[ key ];\n\t\t} );\n\t\tthis.records.changes.forEach( ( property, key ) => {\n\t\t\tif( property.modified.id !== property.modified.name ) {\n\t\t\t\tdelete rawNode[ key ];\n\t\t\t\trawNode[ property.modified.name ] = property.modified.value;\n\t\t\t} else {\n\t\t\t\trawNode[ key ] = property.modified.value;\n\t\t\t}\n\t\t} );\n\t\tthis.records.additions.forEach( ( property, key ) => {\n\t\t\trawNode[ key ] = property.added.value;\n\t\t} );\n\t\treturn rawNode;\n\t}\n\n\tsortFirstProperties( propertiesNames:string[], firstPropertiesToShow:string[] ):void {\n\t\tlet tempIdx:number = - 1;\n\t\tfirstPropertiesToShow.forEach( ( propToShow:string, index:number ) => {\n\t\t\ttempIdx = propertiesNames.findIndex( ( propName:string ) => { return propName === propToShow} );\n\t\t\tif( tempIdx !== - 1 ) {\n\t\t\t\tlet name:string = propertiesNames[ tempIdx ];\n\t\t\t\tpropertiesNames.splice( tempIdx, 1 );\n\t\t\t\tpropertiesNames.splice( index, 0, name );\n\t\t\t}\n\t\t} );\n\t}\n}\nexport interface BlankNodeRow {\n\tid?:string;\n\tbNodeIdentifier?:string;\n\n\tcopy?:RDFNode.Class;\n\tadded?:RDFNode.Class;\n\tmodified?:RDFNode.Class;\n\tdeleted?:RDFNode.Class;\n\n\trecords?:BlankNodeRecords;\n}\nexport class BlankNodeRecords {\n\tchanges:Map<string,PropertyRow> = new Map<string, PropertyRow>();\n\tdeletions:Map<string,PropertyRow> = new Map<string, PropertyRow>();\n\tadditions:Map<string,PropertyRow> = new Map<string, PropertyRow>();\n}\n\nexport default BlankNodeComponent;"]}