{"version":3,"sources":["document-explorer/literals/literals.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA+D,eAAe,CAAC,CAAA;AAE/E,mCAAsB,kCAAkC,CAAC,CAAA;AAGzD,QAAO,sBAAsB,CAAC,CAAA;AAQ9B;IAmBC;QAjBA,UAAK,GAAS,0BAAK,CAAC;QACpB,WAAM,GAAY,CAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,CAAE,CAAC;QACrD,iBAAY,GAAa,EAAE,CAAC;QAC5B,sBAAiB,GAAW,KAAK,CAAC;QAClC,qBAAgB,GAAW,KAAK,CAAC;QACjC,uBAAkB,GAAW,KAAK,CAAC;QAO1B,aAAQ,GAAgB,EAAE,CAAC;QAC3B,oBAAe,GAAyB,IAAI,mBAAY,EAAW,CAAC;QACpE,YAAO,GAAW,IAAI,CAAC;QACtB,sBAAiB,GAA8B,IAAI,mBAAY,EAAgB,CAAC;IAE3E,CAAC;IAVhB,sBAAI,iDAAkB;aAAtB;YACC,MAAM,CAAC,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,gBAAgB,CAAC;QACxD,CAAC;;;OAAA;;IAUD,oCAAQ,GAAR;QAAA,iBAMC;QALA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAE,WAAW,CAAE,CAAC;QACzD,IAAI,CAAC,eAAe,CAAC,SAAS,CAAE;YAC/B,KAAI,CAAC,aAAa,EAAE,CAAC;QACtB,CAAC,CAAE,CAAC;QACJ,IAAI,CAAC,wBAAwB,EAAE,CAAC;IACjC,CAAC;IAED,uCAAW,GAAX,UAAa,KAAY;QACxB,MAAM,CAAC,CAAE,CAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,UAAE,OAAW;YAC3C,MAAM,CAAC,CAAC,CAAE,CAAE,OAAO,CAAC,KAAK,IAAI,OAAO,OAAO,CAAC,KAAK,CAAE,KAAK,CAAE,KAAK,WAAW,CAAC;mBACvE,CAAC,CAAE,CAAE,OAAO,CAAC,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,CAAE,KAAK,CAAE,KAAK,WAAW,CAAC;mBAC1E,CAAC,CAAE,CAAE,OAAO,CAAC,IAAI,IAAI,OAAO,OAAO,CAAC,IAAI,CAAE,KAAK,CAAE,KAAK,WAAW,CAAC,CAAA;QACvE,CAAC,CAAE,CAAC;IACL,CAAC;IAED,2CAAe,GAAf,UAAiB,KAAa;QAA9B,iBAIC;QAHA,UAAU,CAAE;YACX,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC/B,CAAC,EAAE,CAAC,CAAE,CAAC;IACR,CAAC;IAED,uCAAW,GAAX,UAAa,eAAuB,EAAE,eAAuB,EAAE,KAAY;QAC1E,EAAE,CAAA,CAAE,OAAO,IAAI,CAAC,QAAQ,CAAE,KAAK,CAAE,CAAC,KAAK,KAAK,WAAY,CAAC;YAAC,OAAO,IAAI,CAAC,QAAQ,CAAE,KAAK,CAAE,CAAC,cAAc,CAAC;QACvG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,WAAW,CAAE,WAAW,CAAE,CAAC;QACzD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAE,CAAC;QAC7C,IAAI,CAAC,wBAAwB,EAAE,CAAC;IACjC,CAAC;IAED,yCAAa,GAAb;QACC,IAAI,aAAa,GAA0B,EAAE,CAAC;QAC9C,aAAa,CAAC,KAAK,GAAY,EAAE,CAAC;QAClC,aAAa,CAAC,cAAc,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAE,CAAC,EAAE,CAAC,EAAE,aAAa,CAAE,CAAC;QAC5C,IAAI,CAAC,wBAAwB,EAAE,CAAC;IACjC,CAAC;IAED,yCAAa,GAAb,UAAe,eAA0B,EAAE,KAAY;QACtD,EAAE,CAAA,CAAE,OAAO,eAAe,CAAC,KAAK,KAAK,WAAY,CAAC;YAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAE,KAAK,EAAE,CAAC,CAAE,CAAC;QACpF,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAE,CAAC;QAC7C,IAAI,CAAC,wBAAwB,EAAE,CAAC;IACjC,CAAC;IAED,oDAAwB,GAAxB;QACC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;IACjJ,CAAC;IAED,4CAAgB,GAAhB;QACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAE,UAAE,OAAkB,IAAM,OAAA,OAAO,OAAO,CAAC,KAAK,KAAK,WAAW,EAApC,CAAoC,CAAE,CAAC;IAC/F,CAAC;IAED,+CAAmB,GAAnB;QACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAE,UAAE,OAAkB,IAAM,OAAA,OAAO,OAAO,CAAC,QAAQ,KAAK,WAAW,IAAI,OAAO,OAAO,CAAC,OAAO,KAAK,WAAW,EAAjF,CAAiF,CAAE,CAAC;IAC5I,CAAC;IAED,8CAAkB,GAAlB;QACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAE,UAAE,OAAkB,IAAM,OAAA,OAAO,OAAO,CAAC,OAAO,KAAK,WAAW,EAAtC,CAAsC,CAAE,CAAC;IACjG,CAAC;IAED,gDAAoB,GAApB;QACC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAE,UAAE,OAAkB,IAAM,OAAA,OAAO,OAAO,CAAC,QAAQ,KAAK,WAAW,IAAI,OAAO,OAAO,CAAC,OAAO,KAAK,WAAW,EAAjF,CAAiF,CAAE,CAAC;IAC5I,CAAC;IApED;QAAC,YAAK,EAAE;;uDAAA;IACR;QAAC,YAAK,EAAE;;8DAAA;IACR;QAAC,YAAK,EAAE;;sDAAA;IACR;QAAC,aAAM,EAAE;;gEAAA;IAvBV;QAAC,gBAAS,CAAE;YACX,QAAQ,EAAE,aAAa;YACvB,QAAQ,EAAE,OAAO,CAAE,2BAA2B,CAAE;YAChD,MAAM,EAAE,CAAE,OAAO,CAAE,0BAA0B,CAAE,CAAE;SACjD,CAAE;;yBAAA;IAqFH,wBAAC;AAAD,CAnFA,AAmFC,IAAA;AAnFY,yBAAiB,oBAmF7B,CAAA;AAED;kBAAe,iBAAiB,CAAC","file":"literals.component.js","sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit } from \"@angular/core\";\n\nimport { Modes } from \"./../property/property.component\";\nimport { Literal, LiteralRow } from \"./literal.component\";\n\nimport \"semantic-ui/semantic\";\n\n@Component( {\n\tselector: \"cp-literals\",\n\ttemplate: require( \"./literals.component.html\" ),\n\tstyles: [ require( \"./literals.component.css\" ) ],\n} )\n\nexport class LiteralsComponent implements OnInit {\n\n\tmodes:Modes = Modes;\n\ttokens:string[] = [ \"@value\", \"@type\", \"@language\" ];\n\ttempLiterals:Literal[] = [];\n\tisLanguagePresent:boolean = false;\n\tisEditingLiteral:boolean = false;\n\tcanDisplayLiterals:boolean = false;\n\n\tget canDisplayLanguage():boolean {\n\t\treturn this.isLanguagePresent || this.isEditingLiteral;\n\t};\n\n\n\t@Input() literals:LiteralRow[] = [];\n\t@Input() onAddNewLiteral:EventEmitter<boolean> = new EventEmitter<boolean>();\n\t@Input() canEdit:boolean = true;\n\t@Output() onLiteralsChanges:EventEmitter<LiteralRow[]> = new EventEmitter<LiteralRow[]>();\n\n\tconstructor() {}\n\n\tngOnInit():void {\n\t\tthis.isLanguagePresent = this.existsToken( \"@language\" );\n\t\tthis.onAddNewLiteral.subscribe( () => {\n\t\t\tthis.addNewLiteral();\n\t\t} );\n\t\tthis.updateCanDisplayLiterals();\n\t}\n\n\texistsToken( token:string ):boolean {\n\t\treturn ! ! this.literals.find( ( literal:any ) => {\n\t\t\treturn (! ! literal.added && typeof literal.added[ token ] !== \"undefined\")\n\t\t\t\t|| (! ! literal.modified && typeof literal.modified[ token ] !== \"undefined\")\n\t\t\t\t|| (! ! literal.copy && typeof literal.copy[ token ] !== \"undefined\")\n\t\t} );\n\t}\n\n\teditModeChanged( value:boolean ):void {\n\t\tsetTimeout( () => {\n\t\t\tthis.isEditingLiteral = value;\n\t\t}, 1 );\n\t}\n\n\tsaveLiteral( modifiedLiteral:Literal, originalLiteral:Literal, index:number ) {\n\t\tif( typeof this.literals[ index ].added !== \"undefined\" ) delete this.literals[ index ].isBeingCreated;\n\t\tthis.isLanguagePresent = this.existsToken( \"@language\" );\n\t\tthis.onLiteralsChanges.emit( this.literals );\n\t\tthis.updateCanDisplayLiterals();\n\t}\n\n\taddNewLiteral():void {\n\t\tlet newLiteralRow:LiteralRow = <LiteralRow>{};\n\t\tnewLiteralRow.added = <Literal>{};\n\t\tnewLiteralRow.isBeingCreated = true;\n\t\tthis.literals.splice( 0, 0, newLiteralRow );\n\t\tthis.updateCanDisplayLiterals();\n\t}\n\n\tdeleteLiteral( deletingLiteral:LiteralRow, index:number ):void {\n\t\tif( typeof deletingLiteral.added !== \"undefined\" ) this.literals.splice( index, 1 );\n\t\tthis.onLiteralsChanges.emit( this.literals );\n\t\tthis.updateCanDisplayLiterals();\n\t}\n\n\tupdateCanDisplayLiterals():void {\n\t\tthis.canDisplayLiterals = this.getUntouchedLiterals().length > 0 || this.getAddedLiterals().length > 0 || this.getModifiedLiterals().length > 0;\n\t}\n\n\tgetAddedLiterals():LiteralRow[] {\n\t\treturn this.literals.filter( ( literal:LiteralRow ) => typeof literal.added !== \"undefined\" );\n\t}\n\n\tgetModifiedLiterals():LiteralRow[] {\n\t\treturn this.literals.filter( ( literal:LiteralRow ) => typeof literal.modified !== \"undefined\" && typeof literal.deleted === \"undefined\" );\n\t}\n\n\tgetDeletedLiterals():LiteralRow[] {\n\t\treturn this.literals.filter( ( literal:LiteralRow ) => typeof literal.deleted !== \"undefined\" );\n\t}\n\n\tgetUntouchedLiterals():LiteralRow[] {\n\t\treturn this.literals.filter( ( literal:LiteralRow ) => typeof literal.modified === \"undefined\" && typeof literal.deleted === \"undefined\" );\n\t}\n}\n\nexport default LiteralsComponent;"]}