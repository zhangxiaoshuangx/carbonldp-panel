{"version":3,"sources":["document-explorer/document-explorer.component.ts"],"names":[],"mappings":"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","file":"document-explorer/document-explorer.component.js","sourcesContent":["import { Component, Input } from \"@angular/core\";\n\nimport * as SDKContext from \"carbonldp/SDKContext\";\nimport * as RDFDocument from \"carbonldp/RDF/Document\";\nimport * as HTTP from \"carbonldp/HTTP\";\n\nimport { DocumentsResolverService } from \"./documents-resolver.service\"\nimport { Message } from \"carbon-panel/errors-area/error-message.component\";\n\nimport \"semantic-ui/semantic\";\n\nimport template from \"./document-explorer.component.html!\";\nimport style from \"./document-explorer.component.css!text\";\n\n@Component( {\n\tselector: \"cp-document-explorer\",\n\ttemplate: template,\n\tstyles: [ style ],\n} )\n\nexport class DocumentExplorerComponent {\n\n\tloadingDocument:boolean = false;\n\tsavingDocument:boolean = false;\n\tinspectingDocument:RDFDocument.Class;\n\tdocumentsResolverService:DocumentsResolverService;\n\tmessages:Message[] = [];\n\n\t@Input() documentContext:SDKContext.Class;\n\n\tconstructor( documentsResolverService:DocumentsResolverService ) {\n\t\tthis.documentsResolverService = documentsResolverService;\n\t}\n\n\tonLoadingDocument( loadingDocument:boolean ):void {\n\t\tthis.loadingDocument = loadingDocument;\n\t}\n\n\tshowLoading( savingDocument:boolean ):void {\n\t\tthis.savingDocument = savingDocument;\n\t}\n\n\tresolveDocument( uri:string ):void {\n\t\tthis.loadingDocument = true;\n\t\tthis.documentsResolverService.get( uri, this.documentContext ).then( ( document:RDFDocument.Class )=> {\n\t\t\tthis.inspectingDocument = document[ 0 ];\n\t\t\tthis.loadingDocument = false;\n\t\t} );\n\t}\n\n\thandleError( error:HTTP.Errors.Error ):void {\n\t\tlet errorMessage:Message;\n\t\tif( error.response ) errorMessage = this.getHTTPErrorMessage( error, this.getErrorMessage( error ) );\n\t\telse {\n\t\t\terrorMessage = <Message>{\n\t\t\t\ttitle: error.name,\n\t\t\t\tcontent: JSON.stringify( error )\n\t\t\t};\n\t\t}\n\t\tthis.messages.push( errorMessage );\n\t}\n\n\trefreshDocument( documentURI:string ):void {\n\t\tthis.resolveDocument( documentURI );\n\t}\n\n\tprivate getHTTPErrorMessage( error:HTTP.Errors.Error, content:string ):Message {\n\t\treturn {\n\t\t\ttitle: error.name,\n\t\t\tcontent: content + (! ! error.message ? (\" Reason: \" + error.message) : \"\"),\n\t\t\tendpoint: (<any>error.response.request).responseURL,\n\t\t\tstatusCode: \"\" + (<XMLHttpRequest>error.response.request).status + \" - RequestID: \" + error.requestID,\n\t\t\tstatusMessage: (<XMLHttpRequest>error.response.request).statusText\n\t\t};\n\t}\n\n\tprivate getErrorMessage( error:HTTP.Errors.Error ):string {\n\t\tlet tempMessage:string = \"\";\n\t\tswitch( true ) {\n\t\t\tcase error instanceof HTTP.Errors.ForbiddenError:\n\t\t\t\ttempMessage = \"Forbidden Action.\";\n\t\t\t\tbreak;\n\t\t\tcase error instanceof HTTP.Errors.NotFoundError:\n\t\t\t\ttempMessage = \"Couldn't found the requested resource.\";\n\t\t\t\tbreak;\n\t\t\tcase error instanceof HTTP.Errors.UnauthorizedError:\n\t\t\t\ttempMessage = \"Unauthorized operation.\";\n\t\t\t\tbreak;\n\t\t\tcase error instanceof HTTP.Errors.InternalServerErrorError:\n\t\t\t\ttempMessage = \"An internal error occurred while trying to fetch the resource. Please try again later. Error: \" + error.response.status;\n\t\t\t\tbreak;\n\t\t\tcase error instanceof HTTP.Errors.ServiceUnavailableError:\n\t\t\t\ttempMessage = \"Service currently unavailable.\";\n\t\t\t\tbreak;\n\t\t\tcase error instanceof HTTP.Errors.UnknownError:\n\t\t\t\t// TODO: Check if the UnknownError is due to a bad CORS configuration.\n\t\t\t\ttempMessage = \"An error occurred while trying to fetch the resource content. This could be caused by a missing allowed domain for your App. Please, make sure this is not the case and try again later.\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttempMessage = \"There was a problem processing the request. Error: \" + error.response.status;\n\t\t\t\tbreak;\n\t\t}\n\t\treturn tempMessage;\n\t}\n}\n\nexport default DocumentExplorerComponent;"],"sourceRoot":"/source/"}