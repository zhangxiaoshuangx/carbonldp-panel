{"version":3,"sources":["document-explorer/pointers/pointers.component.ts"],"names":[],"mappings":"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","file":"document-explorer/pointers/pointers.component.js","sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit } from \"@angular/core\";\n\nimport * as RDFNode from \"carbonldp/RDF/RDFNode\";\n\nimport { Modes } from \"./../property/property.component\";\nimport { Pointer, PointerRow } from \"./pointer.component\";\n\nimport \"semantic-ui/semantic\";\n\nimport template from \"./pointers.component.html!\";\nimport style from \"./pointers.component.css!text\";\n\n@Component( {\n\tselector: \"cp-pointers\",\n\ttemplate: template,\n\tstyles: [ style ],\n} )\n\nexport class PointersComponent implements OnInit {\n\n\tmodes:Modes = Modes;\n\ttokens:string[] = [ \"@id\", \"@type\" ];\n\ttempPointers:Pointer[] = [];\n\tisEditingPointer:boolean = false;\n\tcanDisplayPointers:boolean = false;\n\n\t@Input() documentURI:string = \"\";\n\t@Input() pointers:PointerRow[] = [];\n\t@Input() onAddNewPointer:EventEmitter<boolean> = new EventEmitter<boolean>();\n\t@Input() bNodes:RDFNode.Class[] = [];\n\t@Input() namedFragments:RDFNode.Class[] = [];\n\t@Input() canEdit:boolean = true;\n\n\t@Output() onPointersChanges:EventEmitter<PointerRow[]> = new EventEmitter<PointerRow[]>();\n\t@Output() onGoToBNode:EventEmitter<string> = new EventEmitter<string>();\n\t@Output() onGoToNamedFragment:EventEmitter<string> = new EventEmitter<string>();\n\n\tconstructor() { }\n\n\tngOnInit():void {\n\t\tthis.onAddNewPointer.subscribe( ()=> {\n\t\t\tthis.addNewPointer();\n\t\t} );\n\t\tthis.updateCanDisplayPointers();\n\t}\n\n\taddNewPointer():void {\n\t\tlet newPointerRow:PointerRow = <PointerRow>{};\n\t\tnewPointerRow.added = <Pointer>{};\n\t\tnewPointerRow.isBeingCreated = true;\n\t\tthis.pointers.splice( 0, 0, newPointerRow );\n\t\tthis.updateCanDisplayPointers();\n\t}\n\n\tsavePointer( modifiedPointer:Pointer, originalPointer:Pointer, index:number ) {\n\t\tif( typeof this.pointers[ index ].added !== \"undefined\" ) delete this.pointers[ index ].isBeingCreated;\n\t\tthis.onPointersChanges.emit( this.pointers );\n\t\tthis.updateCanDisplayPointers();\n\t}\n\n\tdeletePointer( deletingPointer:PointerRow, index:number ):void {\n\t\tif( typeof deletingPointer.added !== \"undefined\" ) this.pointers.splice( index, 1 );\n\t\tthis.onPointersChanges.emit( this.pointers );\n\t\tthis.updateCanDisplayPointers();\n\t}\n\n\tupdateCanDisplayPointers():void {\n\t\tthis.canDisplayPointers = this.getUntouchedPointers().length > 0 || this.getAddedPointers().length > 0 || this.getModifiedPointers().length > 0;\n\t}\n\n\tgetAddedPointers():PointerRow[] {\n\t\treturn this.pointers.filter( ( pointer:PointerRow ) => typeof pointer.added !== \"undefined\" );\n\t}\n\n\tgetModifiedPointers():PointerRow[] {\n\t\treturn this.pointers.filter( ( pointer:PointerRow ) => typeof pointer.modified !== \"undefined\" && typeof pointer.deleted === \"undefined\" );\n\t}\n\n\tgetDeletedPointers():PointerRow[] {\n\t\treturn this.pointers.filter( ( pointer:PointerRow ) => typeof pointer.deleted !== \"undefined\" );\n\t}\n\n\tgetUntouchedPointers():PointerRow[] {\n\t\treturn this.pointers.filter( ( pointer:PointerRow ) => typeof pointer.modified === \"undefined\" && typeof pointer.deleted === \"undefined\" );\n\t}\n\n\tgoToBNode( id:string ):void {\n\t\tthis.onGoToBNode.emit( id );\n\t}\n\n\tgoToNamedFragment( id:string ):void {\n\t\tthis.onGoToNamedFragment.emit( id );\n\t}\n}\n\nexport default PointersComponent;"],"sourceRoot":"/source/"}