{"version":3,"sources":["sparql-client/resultset-table/resultset-table.component.ts"],"names":[],"mappings":"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","file":"sparql-client/resultset-table/resultset-table.component.js","sourcesContent":["import { Component, Input, Output, SimpleChange, EventEmitter, OnChanges } from \"@angular/core\";\n\nimport \"semantic-ui/semantic\";\n\nimport template from \"./resultset-table.component.html!\";\nimport style from \"./resultset-table.component.css!text\";\n\n@Component( {\n\tselector: \"cp-resultset-table\",\n\ttemplate: template,\n\tstyles: [ style ],\n} )\n\nexport class ResultsetTableComponent implements OnChanges {\n\t@Input() query:any;\n\t@Input() resultset:any;\n\t@Input() prefixes:{ [ prefix:string ]:string };\n\t@Output() resultsetChange:EventEmitter<any> = new EventEmitter();\n\n\tsortedColumn:string = null;\n\tascending:boolean = false;\n\n\tbindings:any;\n\n\tconstructor() {}\n\n\tngOnChanges( changeRecord:any ):void {\n\t\tif( \"resultset\" in changeRecord ) {\n\t\t\tlet change:SimpleChange = changeRecord.resultset;\n\t\t\tif( change.currentValue !== change.previousValue ) {\n\t\t\t\tthis.bindings = this.mapBindings( change.currentValue );\n\t\t\t}\n\t\t}\n\t}\n\n\tsortColumn( columnName:string ):void {\n\t\tif( this.sortedColumn === columnName ) this.ascending = ! this.ascending;\n\t\tthis.sortedColumn = columnName;\n\n\t\tlet index:number = this.resultset.head.vars.indexOf( columnName );\n\t\tthis.bindings.sort( ( bindingA, bindingB ) => {\n\t\t\tif( ! bindingA[ index ] )return this.ascending ? 1 : - 1;\n\t\t\tif( ! bindingB[ index ] )return this.ascending ? - 1 : 1;\n\t\t\tif( bindingA[ index ].value > bindingB[ index ].value ) return this.ascending ? - 1 : 1;\n\t\t\tif( bindingA[ index ].value < bindingB[ index ].value ) return this.ascending ? 1 : - 1;\n\t\t\treturn 0;\n\t\t} );\n\t}\n\n\tprivate mapBindings( resultset:any ):any {\n\t\treturn resultset.results.bindings.map( ( bindingObject ) => {\n\t\t\tlet bindingArray:any = [];\n\t\t\tfor( let varName of resultset.head.vars ) {\n\t\t\t\tbindingArray.push( bindingObject[ varName ] );\n\t\t\t}\n\t\t\treturn bindingArray;\n\t\t} );\n\t}\n}\n\nexport default ResultsetTableComponent;\n"],"sourceRoot":"/source/"}