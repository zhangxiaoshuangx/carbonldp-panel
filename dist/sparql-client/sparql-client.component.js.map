{"version":3,"sources":["sparql-client/sparql-client.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAwBA;gBAgNC,+BAAa,OAAkB,EAAE,MAAa;oBA9M9C,gBAAW,GAA4B;wBACtC,KAAK,EAAE,OAAO;wBACd,MAAM,EAAE,QAAQ;qBAChB,CAAC;oBACF,0BAAqB,GAAgD;wBACpE,MAAM,EAAE;4BACP,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,KAAK,EAAE,IAAI,EAAE,gBAAgB,EAAE;6BAItD;yBACD;wBACD,QAAQ,EAAE;4BACT,IAAI,EAAE,UAAU;4BAChB,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE;gCAChD,EAAE,KAAK,EAAE,kCAAa,CAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE;gCAC/C,EAAE,KAAK,EAAE,kCAAa,CAAC,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE;gCAClD,EAAE,KAAK,EAAE,kCAAa,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE;gCAChD,EAAE,KAAK,EAAE,kCAAa,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;6BACvC;yBACD;wBACD,SAAS,EAAE;4BACV,IAAI,EAAE,WAAW;4BACjB,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE;gCAChD,EAAE,KAAK,EAAE,kCAAa,CAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE;gCAC/C,EAAE,KAAK,EAAE,kCAAa,CAAC,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE;gCAClD,EAAE,KAAK,EAAE,kCAAa,CAAC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE;gCAChD,EAAE,KAAK,EAAE,kCAAa,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;6BACvC;yBACD;wBACD,GAAG,EAAE;4BACJ,IAAI,EAAE,KAAK;4BACX,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE;6BACjD;yBACD;wBACD,MAAM,EAAE;4BACP,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE;6BAC3C;yBACD;wBACD,KAAK,EAAE;4BACN,IAAI,EAAE,OAAO;4BACb,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE;6BAC3C;yBACD;wBACD,MAAM,EAAE;4BACP,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE;6BAC3C;yBACD;wBACD,QAAQ,EAAE;4BACT,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE;6BAC3C;yBACD;wBACD,IAAI,EAAE;4BACL,IAAI,EAAE,MAAM;4BACZ,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE;6BAC3C;yBACD;wBACD,IAAI,EAAE;4BACL,IAAI,EAAE,MAAM;4BACZ,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE;6BAC3C;yBACD;wBACD,MAAM,EAAE;4BACP,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE;gCACR,EAAE,KAAK,EAAE,kCAAa,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE;6BAC3C;yBACD;qBACD,CAAC;oBAEF,gBAAW,GAAW,IAAI,CAAC;oBAC3B,cAAS,GAAW,KAAK,CAAC;oBAC1B,aAAQ,GAAW,KAAK,CAAC;oBACzB,oBAAe,GAAW,KAAK,CAAC;oBAChC,cAAS,GAA0B,EAAE,CAAC;oBAGtC,iBAAY,GAA4B;wBACvC,QAAQ,EAAE,EAAE;wBACZ,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK;wBAC5B,OAAO,EAAE,EAAE;wBACX,SAAS,EAAE,IAAI;wBACf,MAAM,EAAE,IAAI;wBACZ,IAAI,EAAE,EAAE;qBACR,CAAC;oBACF,gBAAW,GAA4B;wBACtC,QAAQ,EAAE,EAAE;wBACZ,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK;wBAC5B,OAAO,EAAE,EAAE;wBACX,SAAS,EAAE,IAAI;wBACf,MAAM,EAAE,IAAI;wBACZ,IAAI,EAAE,EAAE;qBACR,CAAC;oBACF,qBAAgB,GAAO,EAAE,CAAC;oBAC1B,iBAAY,GAAiB,EAAE,CAAC;oBAChC,aAAQ,GAAS,EAAE,CAAC;oBAapB,QAAQ;oBACR,iBAAY,GAAU,IAAI,MAAM,CAAE,4BAA4B,EAAE,GAAG,CAAE,CAAC;oBACtE,oBAAe,GAAU,IAAI,MAAM,CAAE,+BAA+B,EAAE,GAAG,CAAE,CAAC;oBAC5E,cAAS,GAAU,IAAI,MAAM,CAAE,yBAAyB,EAAE,GAAG,CAAE,CAAC;oBAChE,mBAAc,GAAU,IAAI,MAAM,CAAE,8BAA8B,EAAE,GAAG,CAAE,CAAC;oBAC1E,cAAS,GAAU,IAAI,MAAM,CAAE,0EAA0E,CAAE,CAAC;oBAC5G,iBAAY,GAAU,IAAI,MAAM,CAAE,4BAA4B,EAAE,GAAG,CAAE,CAAC;oBACtE,iBAAY,GAAU,IAAI,MAAM,CAAE,4BAA4B,EAAE,GAAG,CAAE,CAAC;oBACtE,gBAAW,GAAU,IAAI,MAAM,CAAE,2BAA2B,EAAE,GAAG,CAAE,CAAC;oBACpE,iBAAY,GAAU,IAAI,MAAM,CAAE,4BAA4B,EAAE,GAAG,CAAE,CAAC;oBACtE,eAAU,GAAU,IAAI,MAAM,CAAE,0BAA0B,EAAE,GAAG,CAAE,CAAC;oBAClE,eAAU,GAAU,IAAI,MAAM,CAAE,0BAA0B,EAAE,GAAG,CAAE,CAAC;oBAIzD,eAAU,GAAW,KAAK,CAAC;oBAC1B,gBAAW,GAAqB,IAAI,mBAAY,EAAE,CAAC;oBAG7D,+BAA+B;oBACvB,aAAQ,GAAgC;wBAC/C,KAAK,EAAE,gCAAgC;wBACvC,KAAK,EAAE,wCAAwC;wBAC/C,GAAG,EAAE,uCAAuC;wBAC5C,IAAI,EAAE,uCAAuC;wBAC7C,IAAI,EAAE,oCAAoC;wBAC1C,IAAI,EAAE,gCAAgC;wBACtC,MAAM,EAAE,iCAAiC;wBACzC,KAAK,EAAE,8BAA8B;wBACrC,IAAI,EAAE,2BAA2B;wBACjC,MAAM,EAAE,kCAAkC;wBAC1C,SAAS,EAAE,2BAA2B;wBACtC,MAAM,EAAE,+BAA+B;wBACvC,SAAS,EAAE,wBAAwB;wBACnC,IAAI,EAAE,wBAAwB;wBAC9B,MAAM,EAAE,oCAAoC;wBAC5C,IAAI,EAAE,yCAAyC;wBAC/C,MAAM,EAAE,4BAA4B;wBACpC,KAAK,EAAE,0CAA0C;wBACjD,UAAU,EAAE,mCAAmC;wBAC/C,IAAI,EAAE,mCAAmC;wBACzC,MAAM,EAAE,8BAA8B;wBACtC,KAAK,EAAE,2BAA2B;wBAClC,KAAK,EAAE,qCAAqC;wBAC5C,KAAK,EAAE,gCAAgC;wBACvC,KAAK,EAAE,6CAA6C;wBACpD,MAAM,EAAE,uCAAuC;wBAC/C,KAAK,EAAE,gCAAgC;wBACvC,KAAK,EAAE,gCAAgC;wBACvC,KAAK,EAAE,0BAA0B;wBACjC,IAAI,EAAE,kDAAkD;wBACxD,KAAK,EAAE,8BAA8B;wBACrC,MAAM,EAAE,0BAA0B;wBAClC,MAAM,EAAE,sCAAsC;wBAC9C,MAAM,EAAE,oCAAoC;wBAC5C,OAAO,EAAE,6BAA6B;wBACtC,OAAO,EAAE,uCAAuC;wBAChD,KAAK,EAAE,2BAA2B;wBAClC,OAAO,EAAE,+BAA+B;wBACxC,KAAK,EAAE,mCAAmC;qBAC1C,CAAC;oBAGM,YAAO,GAAU,EAAE,CAAC;oBACpB,cAAS,GAAU,EAAE,CAAC;oBAqB7B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;oBACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oBACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,oBAAoB,EAAE,IAAI,EAAE,CAAC;oBACtD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACtB,CAAC;gBAtBD,sBAAI,iDAAc;oBADlB,sBAAsB;yBACtB,cAAuD,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC;;;mBAAA;gBAEzF,sBAAI,yCAAM;yBAAV,cAAsB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;yBAE5C,UAAY,KAAY;wBACvB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;wBACrB,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;wBAClC,IAAI,CAAC,aAAa,EAAE,CAAC;oBACtB,CAAC;;;mBAN2C;gBAQ5C,sBAAI,2CAAQ;yBAAZ,cAAwB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;yBAEhD,UAAc,KAAY;wBACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;wBACvB,IAAI,CAAC,eAAe,EAAE,CAAC;oBACxB,CAAC;;;mBAL+C;gBAchD,wCAAQ,GAAR;oBACC,EAAE,CAAA,CAAE,CAAE,IAAI,CAAC,OAAQ,CAAC,CAAC,CAAC;wBACrB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;wBAC3B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC7B,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;oBAC3C,CAAC;gBACF,CAAC;gBAED,+CAAe,GAAf;oBACC,IAAI,CAAC,QAAQ,GAAG,gBAAC,CAAE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAE,CAAC;oBAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,eAAe,CAAE,CAAC;oBAC1D,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,qBAAqB,CAAE,CAAC;oBACtE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAE,UAAU,CAAE,CAAC;oBAC1D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAE,YAAY,CAAE,CAAC;oBAC9D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,4BAA4B,CAAE,CAAC;oBAClE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAE,WAAW,CAAE,CAAC,QAAQ,EAAE,CAAC;oBACvD,IAAI,CAAC,6BAA6B,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,sCAAsC,CAAE,CAAC;oBAClG,IAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,qCAAqC,CAAE,CAAC;oBAChG,IAAI,CAAC,6BAA6B,EAAE,CAAC;oBACrC,IAAI,CAAC,eAAe,EAAE,CAAC;gBACxB,CAAC;gBAED,iDAAiB,GAAjB,UAAmB,MAAwB;oBAC1C,IAAI,IAAI,GAA6B,MAAM,CAAC,MAAO,CAAC,KAAK,CAAC;oBAC1D,IAAI,CAAC,WAAW,GAAG,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBACpD,CAAC;gBAED;;;mBAGG;gBACH,6CAAa,GAAb;oBACC,IAAI,SAAS,GAAU,IAAI,CAAC,kBAAkB,CAAE,IAAI,CAAC,MAAM,CAAE,CAAC;oBAC9D,EAAE,CAAA,CAAE,SAAS,KAAK,IAAI,IAAI,IAAI,CAAC,qBAAqB,CAAE,SAAS,CAAC,WAAW,EAAE,CAAG,CAAC,CAAC,CAAC;wBAClF,SAAS,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;wBACpC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,qBAAqB,CAAE,SAAS,CAAE,CAAC,OAAO,CAAC;wBACxE,EAAE,CAAA,CAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAE,KAAK,CAAE,CAAE,CAAC,CAAC,CAAC;4BACxE,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,qBAAqB,CAAE,SAAS,CAAE,CAAC,OAAO,CAAE,CAAC,CAAE,CAAC,KAAK,CAAC;wBACvF,CAAC;wBACD,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;wBAChD,IAAI,eAAe,GAAY,CAAE,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,KAAK,CAAE,CAAC;wBAC5E,EAAE,CAAA,CAAE,eAAe,CAAC,OAAO,CAAE,SAAS,CAAE,KAAK,CAAE,CAAE,CAAC;4BAAC,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;wBACpG,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;oBACvD,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;wBAChC,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,QAAQ,CAAC;wBACvC,IAAI,CAAC,gBAAgB,GAAQ,EAAE,CAAC;oBACjC,CAAC;gBACF,CAAC;gBAED;;;mBAGG;gBACH,+CAAe,GAAf;oBACC,EAAE,CAAA,CAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAG,CAAC,CAAC,CAAC;wBAC3C,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC5C,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;oBACxE,CAAC;gBACF,CAAC;gBAED;;;;mBAIG;gBACH,kDAAkB,GAAlB,UAAoB,KAAY;oBAC/B,MAAM,CAAA,CAAE,IAAK,CAAC,CAAC,CAAC;wBACf,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;4BACrC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,IAAI,CAAC;wBAC/C,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;4BACxC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,IAAI,CAAC;wBAClD,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;4BAClC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,IAAI,CAAC;wBAC5C,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;4BACvC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,IAAI,CAAC;wBACjD,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;4BACrC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,IAAI,CAAC;wBAC/C,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;4BACrC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,IAAI,CAAC;wBAC/C,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;4BACpC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,IAAI,CAAC;wBAC9C,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;4BACrC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,IAAI,CAAC;wBAC/C,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;4BACnC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC;wBAC7C,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;4BACnC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC;wBAC7C;4BACC,MAAM,CAAC,IAAI,CAAC;oBACd,CAAC;gBACF,CAAC;gBAED,2CAAW,GAAX,UAAa,gBAAqC;oBACjD,gBAAgB,CAAC,aAAa,GAAG,IAAI,CAAC;oBACtC,IAAI,CAAC,OAAO,CAAE,gBAAgB,CAAC,KAAK,EAAE,gBAAgB,CAAE,CAAC,IAAI,CAC5D,UAAE,WAAgC;wBACjC,gBAAgB,CAAC,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;wBACjD,gBAAgB,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAE,EAAE,EAAE,WAAW,CAAC,SAAS,CAAE,CAAC;wBACxE,gBAAgB,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAE,EAAE,EAAE,WAAW,CAAC,SAAS,CAAE,CAAC;wBACtE,gBAAgB,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAE,EAAE,EAAE,WAAW,CAAC,KAAK,CAAE,CAAC;wBAChE,gBAAgB,CAAC,aAAa,GAAG,KAAK,CAAC;oBACxC,CAAC,CACD,CAAC,KAAK,CACN,UAAE,KAAS;wBACV,gBAAgB,CAAC,aAAa,GAAG,KAAK,CAAC;wBACvC,MAAM,KAAK,CAAC;oBACb,CAAC,CACD,CAAC;gBACH,CAAC;gBAED,yCAAS,GAAT;oBAAA,iBAiBC;oBAhBA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,IAAI,KAAK,GAAe,MAAM,CAAC,MAAM,CAAE,EAAE,EAAE,IAAI,CAAC,YAAY,CAAE,CAAC;oBAE/D,IAAI,CAAC,OAAO,CAAE,KAAK,EAAE,IAAI,CAAE,CAAC,IAAI,CAC/B,UAAE,QAA6B;wBAC9B,KAAI,CAAC,WAAW,CAAE,QAAQ,CAAE,CAAC;wBAC7B,MAAM,CAAC,QAAQ,CAAC;oBACjB,CAAC,CACD,CAAC,KAAK,CACN,UAAE,KAAS;wBACV,EAAE,CAAA,CAAE,KAAI,CAAC,UAAW,CAAC,CAAC,CAAC;4BACtB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAE,KAAI,CAAC,UAAU,CAAE,KAAK,CAAE,CAAE,CAAC;wBACnD,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACP,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,KAAI,CAAC,UAAU,CAAE,KAAK,CAAE,CAAE,CAAC;wBAChD,CAAC;oBACF,CAAC,CAAE,CAAC;gBACN,CAAC;gBAED,uCAAO,GAAP;oBACC,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;oBAChD,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;oBACjB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;gBACpB,CAAC;gBAED,uCAAO,GAAP,UAAS,KAAiB,EAAE,cAAoC;oBAAhE,iBAgCC;oBA/BA,IAAI,IAAI,GAAU,KAAK,CAAC,IAAI,CAAC;oBAC7B,EAAE,CAAA,CAAE,cAAe,CAAC,CAAC,CAAC;wBACrB,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC;oBAC9B,CAAC;oBACD,IAAI,OAAO,GAAiC,IAAI,CAAC;oBACjD,MAAM,CAAA,CAAE,IAAK,CAAC,CAAC,CAAC;wBACf,KAAK,IAAI,CAAC,WAAW,CAAC,KAAK;4BAC1B,OAAO,GAAG,IAAI,CAAC,YAAY,CAAE,KAAK,CAAE,CAAC;4BACrC,KAAK,CAAC;wBACP,KAAK,IAAI,CAAC,WAAW,CAAC,MAAM;4BAC3B,OAAO,GAAG,IAAI,CAAC,aAAa,CAAE,KAAK,CAAE,CAAC;4BACtC,KAAK,CAAC;wBACP;4BACC,wBAAwB;4BACxB,OAAO,GAAG,IAAI,OAAO,CAAE,UAAE,OAAoB,EAAE,MAA+B;gCAC7E,MAAM,CAAE,kBAAkB,CAAE,CAAC;4BAC9B,CAAC,CAAE,CAAC;oBACN,CAAC;oBAED,MAAM,CAAC,OAAO,CAAC,IAAI,CAClB,UAAE,QAA6B;wBAC9B,mBAAmB;wBACnB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;wBACvB,MAAM,CAAC,QAAQ,CAAC;oBACjB,CAAC,EACD,UAAE,KAAS;wBACV,gBAAgB;wBAChB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;wBACvB,MAAM,CAAC,OAAO,CAAC,MAAM,CAAE,KAAK,CAAE,CAAC;oBAChC,CAAC,CACD,CAAC;gBACH,CAAC;gBAED,4CAAY,GAAZ,UAAc,KAAiB;oBAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,MAAM,CAAA,CAAE,KAAK,CAAC,SAAU,CAAC,CAAC,CAAC;wBAC1B,KAAK,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,IAAI;4BAC1C,MAAM,CAAC,IAAI,CAAC,aAAa,CAAE,KAAK,CAAE,CAAC;wBACpC,KAAK,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,IAAI;4BAC5C,MAAM,CAAC,IAAI,CAAC,eAAe,CAAE,KAAK,CAAE,CAAC;wBACtC,KAAK,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,IAAI;4BAC7C,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAE,KAAK,CAAE,CAAC;wBACvC,KAAK,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,IAAI;4BACvC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAE,KAAK,CAAE,CAAC;wBACjC;4BACC,wBAAwB;4BACxB,MAAM,CAAC,OAAO,CAAC,MAAM,CAAwB,uBAAuB,CAAE,CAAC;oBACzE,CAAC;gBACF,CAAC;gBAED,6CAAa,GAAb,UAAe,KAAiB;oBAAhC,iBAUC;oBATA,IAAI,eAAe,GAAU,CAAE,IAAI,IAAI,EAAE,CAAE,CAAC,OAAO,EAAE,CAAC;oBACtD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,qBAAqB,CAAE,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAE,CAAC,IAAI,CACxF,UAAE,EAAqE;4BAAnE,cAAM,EAAE,gBAAQ;wBACnB,IAAI,QAAQ,GAAU,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,GAAG,eAAe,CAAC;wBAC/D,MAAM,CAAC,KAAI,CAAC,aAAa,CAAE,QAAQ,EAAE,MAAM,EAAW,uCAAkB,CAAC,OAAO,EAAE,KAAK,CAAE,CAAC;oBAC3F,CAAC,EACD,UAAE,KAAuB;wBACxB,MAAM,CAAC,KAAI,CAAC,WAAW,CAAE,KAAK,EAAE,KAAK,EAAE,eAAe,CAAE,CAAC;oBAC1D,CAAC,CAAE,CAAC;gBACN,CAAC;gBAED,+CAAe,GAAf,UAAiB,KAAiB;oBAAlC,iBAWC;oBAVA,IAAI,eAAe,GAAU,CAAE,IAAI,IAAI,EAAE,CAAE,CAAC,OAAO,EAAE,CAAC;oBACtD,IAAI,cAAc,GAAwB,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,CAAC,GAAG,CAAE,QAAQ,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAE,KAAK,CAAC,MAAM,CAAE,CAAE,EAAE,CAAC;oBACxH,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,uBAAuB,CAAE,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,OAAO,EAAE,cAAc,CAAE,CAAC,IAAI,CAC1G,UAAE,EAAoD;4BAAlD,cAAM,EAAE,gBAAQ;wBACnB,IAAI,QAAQ,GAAU,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,GAAG,eAAe,CAAC;wBAC/D,MAAM,CAAC,KAAI,CAAC,aAAa,CAAE,QAAQ,EAAE,MAAM,EAAW,uCAAkB,CAAC,OAAO,EAAE,KAAK,CAAE,CAAC;oBAC3F,CAAC,EACD,UAAE,KAAuB;wBACxB,MAAM,CAAC,KAAI,CAAC,WAAW,CAAE,KAAK,EAAE,KAAK,EAAE,eAAe,CAAE,CAAC;oBAC1D,CAAC,CAAE,CAAC;gBACN,CAAC;gBAED,gDAAgB,GAAhB,UAAkB,KAAiB;oBAAnC,iBAWC;oBAVA,IAAI,eAAe,GAAU,CAAE,IAAI,IAAI,EAAE,CAAE,CAAC,OAAO,EAAE,CAAC;oBACtD,IAAI,cAAc,GAAwB,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,CAAC,GAAG,CAAE,QAAQ,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAE,KAAK,CAAC,MAAM,CAAE,CAAE,EAAE,CAAC;oBACxH,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,wBAAwB,CAAE,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,OAAO,EAAE,cAAc,CAAE,CAAC,IAAI,CAC3G,UAAE,EAAoD;4BAAlD,cAAM,EAAE,gBAAQ;wBACnB,IAAI,QAAQ,GAAU,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,GAAG,eAAe,CAAC;wBAC/D,MAAM,CAAC,KAAI,CAAC,aAAa,CAAE,QAAQ,EAAE,MAAM,EAAW,uCAAkB,CAAC,OAAO,EAAE,KAAK,CAAE,CAAC;oBAC3F,CAAC,EACD,UAAE,KAAuB;wBACxB,MAAM,CAAC,KAAI,CAAC,WAAW,CAAE,KAAK,EAAE,KAAK,EAAE,eAAe,CAAE,CAAC;oBAC1D,CAAC,CAAE,CAAC;gBACN,CAAC;gBAED,0CAAU,GAAV,UAAY,KAAiB;oBAA7B,iBAUC;oBATA,IAAI,eAAe,GAAU,CAAE,IAAI,IAAI,EAAE,CAAE,CAAC,OAAO,EAAE,CAAC;oBACtD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,kBAAkB,CAAE,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAE,CAAC,IAAI,CACrF,UAAE,EAAqE;4BAAnE,cAAM,EAAE,gBAAQ;wBACnB,IAAI,QAAQ,GAAU,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,GAAG,eAAe,CAAC;wBAC/D,MAAM,CAAC,KAAI,CAAC,aAAa,CAAE,QAAQ,EAAE,MAAM,EAAW,uCAAkB,CAAC,OAAO,EAAE,KAAK,CAAE,CAAC;oBAC3F,CAAC,EACD,UAAE,KAAuB;wBACxB,MAAM,CAAC,KAAI,CAAC,WAAW,CAAE,KAAK,EAAE,KAAK,EAAE,eAAe,CAAE,CAAC;oBAC1D,CAAC,CAAE,CAAC;gBACN,CAAC;gBAED,6CAAa,GAAb,UAAe,KAAiB;oBAAhC,iBAWC;oBAVA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,IAAI,eAAe,GAAU,CAAE,IAAI,IAAI,EAAE,CAAE,CAAC,OAAO,EAAE,CAAC;oBACtD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,aAAa,CAAE,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAE,CAAC,IAAI,CAChF,UAAE,MAA0B;wBAC3B,IAAI,QAAQ,GAAU,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,GAAG,eAAe,CAAC;wBAC/D,MAAM,CAAC,KAAI,CAAC,aAAa,CAAE,QAAQ,EAAmB,MAAM,CAAC,OAAQ,CAAC,MAAM,GAAG,KAAK,GAAoB,MAAM,CAAC,OAAQ,CAAC,UAAU,EAAW,uCAAkB,CAAC,OAAO,EAAE,KAAK,CAAE,CAAC;oBAClL,CAAC,EACD,UAAE,KAAuB;wBACxB,MAAM,CAAC,KAAI,CAAC,WAAW,CAAE,KAAK,EAAE,KAAK,EAAE,eAAe,CAAE,CAAC;oBAC1D,CAAC,CAAE,CAAC;gBACN,CAAC;gBAED,0CAAU,GAAV;oBACC,MAAM,CAAC,CAAE,CAAE,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,IAAI,CAAC,YAAY,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;gBAC3J,CAAC;gBAED,4CAAY,GAAZ;oBACC,MAAM,CAAC,CAAE,CAAE,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,IAAI,CAAC,YAAY,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;gBACrL,CAAC;gBAED,wCAAQ,GAAR;oBACC,MAAM,CAAC,CAAE,CAAE,CAAE,IAAI,CAAC,QAAQ,IAAI,CAAE,CAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBAChD,CAAC;gBAED,4CAAY,GAAZ;oBACC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACrB,CAAC;gBAED,wCAAQ,GAAR,UAAU,QAAY;oBACrB,IAAI,GAAG,GAAU,IAAI,CAAC,SAAS,CAAC,OAAO,CAAE,QAAQ,CAAE,CAAC;oBACpD,EAAE,CAAA,CAAE,GAAG,GAAG,CAAE,CAAE,CAAC;wBAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAE,GAAG,EAAE,CAAC,CAAE,CAAC;gBACjD,CAAC;gBAED,mDAAmB,GAAnB,UAAqB,QAA6B;oBACjD,IAAI,cAAc,GAAe,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAE,EAAE,EAAE,QAAQ,CAAC,KAAK,CAAE,CAAC;oBACxF,EAAE,CAAA,CAAE,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,YAAY,CAAE,KAAK,IAAI,CAAC,SAAS,CAAE,cAAc,CAAG,CAAC,CAAC,CAAC;wBAC/E,IAAI,CAAC,mCAAmC,EAAE,CAAC;oBAC5C,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,IAAI,CAAC,SAAS,CAAE,cAAc,CAAE,CAAC;oBAClC,CAAC;gBACF,CAAC;gBAED,2CAAW,GAAX,UAAa,QAA6B;oBACzC,IAAI,eAAe,GAAU,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAQ,CAAC;oBAC7D,GAAG,CAAA,CAAE,CAAC,GAAG,eAAe,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAG,EAAG,CAAC;wBACxC,IAAI,CAAC,SAAS,CAAE,CAAC,CAAE,GAAG,IAAI,CAAC,SAAS,CAAE,CAAC,GAAG,CAAC,CAAE,CAAC;oBAC/C,CAAC;oBACD,IAAI,CAAC,SAAS,CAAE,CAAC,CAAE,GAAG,QAAQ,CAAC;gBAChC,CAAC;gBAED,gDAAgB,GAAhB;oBAAA,iBAiBC;oBAhBA,IAAI,KAAK,GAA4B;wBACpC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ;wBACpC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI;wBAC5B,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO;wBAClC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS;wBACtC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM;wBAChC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI;wBAC5B,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM;qBAC5B,CAAC;oBACF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACrB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;oBAChD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAE,KAAK,CAAE,CAAC;oBAChC,IAAI,CAAC,uBAAuB,EAAE,CAAC;oBAC/B,WAAW,CAAE;wBACZ,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;oBACvB,CAAC,EAAE,GAAG,CAAE,CAAC;gBACV,CAAC;gBAED,wDAAwB,GAAxB;oBAAA,iBAuBC;oBAtBA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;oBAChD,IAAI,QAAQ,GAAU,CAAE,CAAC,CAAC;oBAC1B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAE,UAAE,cAA0B,EAAE,KAAY;wBACpE,EAAE,CAAA,CAAE,cAAc,CAAC,EAAE,KAAK,KAAI,CAAC,YAAY,CAAC,EAAG,CAAC,CAAC,CAAC;4BACjD,QAAQ,GAAG,KAAK,CAAC;wBAClB,CAAC;oBACF,CAAC,CAAE,CAAC;oBACJ,EAAE,CAAA,CAAE,QAAQ,GAAG,CAAE,CAAE,CAAC,CAAC,CAAC;wBACrB,IAAI,CAAC,YAAY,CAAE,QAAQ,CAAE,GAAiB;4BAC7C,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ;4BACpC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI;4BAC5B,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO;4BAClC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS;4BACtC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM;4BAChC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI;4BAC5B,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE;yBACxB,CAAC;oBACH,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,IAAI,CAAC,YAAY,CAAC,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;wBAChD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAE,IAAI,CAAC,YAAY,CAAE,CAAC;oBAC7C,CAAC;oBACD,IAAI,CAAC,uBAAuB,EAAE,CAAC;gBAChC,CAAC;gBAED,iDAAiB,GAAjB,UAAmB,aAAyB;oBAC3C,EAAE,CAAA,CAAE,CAAE,CAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,IAAI,CAAE,CAAE,IAAI,CAAC,YAAY,CAAC,OAAQ,CAAC,CAAC,CAAC;wBACtE,EAAE,CAAA,CAAE,CAAE,CAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,IAAI,CAAE,CAAE,IAAI,CAAC,YAAY,CAAC,OAAQ,CAAC,CAAC,CAAC;4BACtE,EAAE,CAAA,CAAE,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,YAAY,CAAE,KAAK,IAAI,CAAC,SAAS,CAAE,aAAa,CAAG,CAAC,CAAC,CAAC;gCAC9E,IAAI,CAAC,wBAAwB,CAAE,aAAa,CAAE,CAAC;4BAChD,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACP,IAAI,CAAC,SAAS,CAAE,aAAa,CAAE,CAAC;gCAChC,IAAI,CAAC,aAAa,EAAE,CAAC;4BACtB,CAAC;wBACF,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACP,EAAE,CAAA,CAAE,CAAC,CAAE,CAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,KAAK,aAAa,CAAC,QAAQ,CAAC;gCAC5F,CAAC,CAAE,CAAE,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,KAAK,aAAa,CAAC,OAAO,CAAE,CAAC,CAAC,CAAC;gCAC1F,IAAI,CAAC,SAAS,CAAE,aAAa,CAAE,CAAC;gCAChC,IAAI,CAAC,aAAa,EAAE,CAAC;4BACtB,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACP,IAAI,CAAC,wBAAwB,CAAE,aAAa,CAAE,CAAC;4BAChD,CAAC;wBACF,CAAC;oBAEF,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACP,IAAI,CAAC,SAAS,CAAE,aAAa,CAAE,CAAC;wBAChC,IAAI,CAAC,aAAa,EAAE,CAAC;oBACtB,CAAC;gBACF,CAAC;gBAED,wDAAwB,GAAxB,UAA0B,aAAyB;oBAClD,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAE,EAAE,EAAE,aAAa,CAAE,CAAC;oBACtD,IAAI,CAAC,mCAAmC,EAAE,CAAC;gBAC5C,CAAC;gBAED,uDAAuB,GAAvB,UAAyB,KAAY;oBACpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;oBAChD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAE,KAAK,CAAE,CAAC;oBAC9C,IAAI,CAAC,kCAAkC,EAAE,CAAC;gBAC3C,CAAC;gBAED,2CAAW,GAAX,UAAa,KAAiB;oBAC7B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;oBAChD,IAAI,KAAK,GAAU,IAAI,CAAC,YAAY,CAAC,OAAO,CAAE,KAAK,CAAE,CAAC;oBACtD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAE,KAAK,EAAE,CAAC,CAAE,CAAC;oBACrC,IAAI,CAAC,uBAAuB,EAAE,CAAC;gBAChC,CAAC;gBAED,yCAAS,GAAT,UAAW,KAAiB;oBAC3B,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,MAAM,CAAE,EAAE,EAAE,KAAK,CAAE,CAAC;oBAC/C,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAE,EAAE,EAAE,KAAK,CAAE,CAAC;oBAC9C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;oBAC/B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC;gBAC7B,CAAC;gBAED,6DAA6B,GAA7B;oBACC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAE;wBACrB,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,0BAA0B,CAAE;qBACzD,CAAE,CAAC;gBACL,CAAC;gBAED,+CAAe,GAAf;oBACC,IAAI,CAAC,4BAA4B,CAAC,KAAK,CAAE;wBACxC,QAAQ,EAAE,KAAK;wBACf,QAAQ,EAAE,IAAI;qBACd,CAAE,CAAC;oBACJ,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAE;wBACzC,QAAQ,EAAE,KAAK;wBACf,QAAQ,EAAE,IAAI;qBACd,CAAE,CAAC;gBACL,CAAC;gBAED,mEAAmC,GAAnC;oBACC,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAE,QAAQ,CAAE,CAAC;gBACtD,CAAC;gBAED,kEAAkC,GAAlC;oBACC,IAAI,CAAC,4BAA4B,CAAC,KAAK,CAAE,QAAQ,CAAE,CAAC;gBACrD,CAAC;gBAED,yDAAyB,GAAzB,UAA2B,aAAyB;oBACnD,IAAI,CAAC,WAAW,GAAgB,EAAE,CAAC;oBACnC,IAAI,CAAC,SAAS,CAAE,aAAa,CAAE,CAAC;oBAChC,IAAI,CAAC,WAAW,EAAE,CAAC;gBACpB,CAAC;gBAED,qDAAqB,GAArB,UAAuB,aAAyB;oBAC/C,IAAI,CAAC,WAAW,CAAE,aAAa,CAAE,CAAC;oBAClC,IAAI,CAAC,WAAW,GAAgB,EAAE,CAAC;gBACpC,CAAC;gBAED,oDAAoB,GAApB;oBACC,EAAE,CAAA,CAAE,CAAE,MAAM,CAAC,YAAY,CAAC,OAAO,CAAE,cAAc,CAAG,CAAC;wBACpD,IAAI,CAAC,uBAAuB,EAAE,CAAC;oBAChC,MAAM,CAAgB,IAAI,CAAC,KAAK,CAAE,MAAM,CAAC,YAAY,CAAC,OAAO,CAAE,cAAc,CAAE,CAAE,CAAC;gBACnF,CAAC;gBAED,uDAAuB,GAAvB;oBACC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAE,cAAc,EAAE,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,YAAY,CAAE,CAAE,CAAC;gBACpF,CAAC;gBAED,6CAAa,GAAb;oBACC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAE,QAAQ,CAAE,CAAC;gBAClC,CAAC;gBAED,2CAAW,GAAX;oBACC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAE,MAAM,CAAE,CAAC;gBAChC,CAAC;gBAED,4CAAY,GAAZ,UAAc,GAAO;oBACpB,gBAAC,CAAE,GAAG,CAAC,UAAU,CAAE,CAAC,OAAO,CAAE,aAAa,CAAE,CAAC,UAAU,CAAE,MAAM,CAAE,CAAC;gBACnE,CAAC;gBAED,0CAAU,GAAV,UAAY,KAAS;oBACpB,MAAM,CAAA,CAAE,OAAO,KAAM,CAAC,CAAC,CAAC;wBACvB,KAAK,QAAQ;4BACZ,MAAM,CAAU;gCACf,KAAK,EAAE,KAAK;gCACZ,OAAO,EAAE,EAAE;gCACX,UAAU,EAAE,EAAE;gCACd,aAAa,EAAE,EAAE;gCACjB,QAAQ,EAAE,EAAE;gCACZ,IAAI,EAAC,OAAO;6BACZ,CAAC;wBACH;4BACC,MAAM,CAAC,+CAAqB,CAAC,eAAe,CAAE,KAAK,CAAE,CAAC;4BAAA,CAAC;oBACzD,CAAC;gBACF,CAAC;gBAED,6CAAa,GAAb,UAAe,QAAe,EAAE,SAAgD,EAAE,YAAmB,EAAE,KAAiB;oBACvH,IAAI,cAAc,GAAwB,IAAI,yCAAoB,EAAE,CAAC;oBACrE,cAAc,CAAC,QAAQ,GAAG,QAAQ,CAAC;oBACnC,cAAc,CAAC,SAAS,GAAG,SAAS,CAAC;oBACrC,cAAc,CAAC,OAAO,CAAE,SAAS,CAAE,CAAC;oBACpC,cAAc,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC7B,cAAc,CAAC,MAAM,GAAG,YAAY,CAAC;oBACrC,MAAM,CAAC,cAAc,CAAC;gBACvB,CAAC;gBAED,2CAAW,GAAX,UAAa,KAAuB,EAAE,KAAiB,EAAE,eAAsB;oBAA/E,iBAsBC;oBArBA,IAAI,QAAQ,GAAU,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,GAAG,eAAe,CAAC;oBAC/D,MAAM,CAAC,IAAI,OAAO,CACjB,UAAE,OAAO,EAAE,MAAM;wBAChB,IAAI,WAAW,GAAY,CAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAE,CAAC;wBAC5D,sCAAsC;wBACtC,EAAE,CAAA,CAAE,WAAW,CAAC,OAAO,CAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAE,GAAG,CAAE,CAAE,CAAC,CAAC,CAAC;4BACzD,IAAI,YAAY,GAAW,KAAI,CAAC,UAAU,CAAE,KAAK,CAAE,CAAC;4BACpD,IAAI,aAAa,GAAwB,KAAI,CAAC,aAAa,CAAE,QAAQ,EAAE,YAAY,EAAW,uCAAkB,CAAC,KAAK,EAAE,KAAK,CAAE,CAAC;4BAChI,OAAO,CAAE,aAAa,CAAE,CAAC;wBAC1B,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACP,MAAM,CAAE,KAAK,CAAE,CAAC;wBACjB,CAAC;oBACF,CAAC,CACD,CAAC,IAAI,CACL,UAAE,QAA6B;wBAC9B,MAAM,CAAC,QAAQ,CAAC;oBACjB,CAAC,EACD,UAAE,MAAwB;wBACzB,MAAM,CAAC,OAAO,CAAC,MAAM,CAAE,MAAM,CAAE,CAAC;oBACjC,CAAC,CACD,CAAC;gBACH,CAAC;gBAvjBD;oBAAC,YAAK,EAAE;;sEAAA;gBACR;oBAAC,YAAK,EAAE;;yEAAA;gBACR;oBAAC,aAAM,EAAE;;0EAAA;gBAjJV;oBAAC,gBAAS,CAAE;wBACX,QAAQ,EAAE,kBAAkB;wBAC5B,QAAQ,EAAE,sCAAQ;wBAClB,MAAM,EAAE,CAAE,0CAAK,CAAE;qBACjB,CAAE;;yCAAA;gBAmsBH,4BAAC;YAAD,CAlsBA,AAksBC,IAAA;YAlsBD,yDAksBC,CAAA;YA0BD,oBAAe,qBAAqB,EAAC","file":"sparql-client.component.js","sourcesContent":["import { Component, ElementRef, Input, Output, EventEmitter, OnInit, AfterViewInit } from \"@angular/core\";\n\nimport Carbon from \"carbonldp/Carbon\";\nimport Context from \"carbonldp/Context\";\nimport * as SPARQL from \"carbonldp/SPARQL\";\nimport * as HTTP from \"carbonldp/HTTP\";\n\nimport { SPARQLResponseType, SPARQLFormats, SPARQLClientResponse, SPARQLQuery } from \"./response/response.component\";\nimport * as CodeMirrorComponent from \"carbonldp-panel/code-mirror/code-mirror.component\";\nimport { Message } from \"carbonldp-panel/messages-area/message.component\";\nimport { ErrorMessageGenerator } from \"carbonldp-panel/messages-area/error/error-message-generator\";\n\nimport $ from \"jquery\";\nimport \"semantic-ui/semantic\";\n\nimport template from \"./sparql-client.component.html!\";\nimport style from \"./sparql-client.component.css!text\";\n\n\n@Component( {\n\tselector: \"cp-sparql-client\",\n\ttemplate: template,\n\tstyles: [ style ],\n} )\nexport class SPARQLClientComponent implements OnInit, AfterViewInit {\n\n\tsparqlTypes:SPARQLTypes = <SPARQLTypes>{\n\t\tquery: \"Query\",\n\t\tupdate: \"Update\",\n\t};\n\tsparqlQueryOperations:SPARQLQueryOperations = <SPARQLQueryOperations>{\n\t\tselect: {\n\t\t\tname: \"SELECT\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.table, name: \"Friendly Table\" },\n\t\t\t\t// {value: SPARQLFormats.xml, name: \"XML\"},\n\t\t\t\t// {value: SPARQLFormats.csv, name: \"CSV\"},\n\t\t\t\t// {value: SPARQLFormats.tsv, name: \"TSV\"},\n\t\t\t],\n\t\t},\n\t\tdescribe: {\n\t\t\tname: \"DESCRIBE\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.jsonLD, name: \"JSON-LD\" },\n\t\t\t\t{ value: SPARQLFormats.turtle, name: \"TURTLE\" },\n\t\t\t\t{ value: SPARQLFormats.jsonRDF, name: \"RDF/JSON\" },\n\t\t\t\t{ value: SPARQLFormats.rdfXML, name: \"RDF/XML\" },\n\t\t\t\t{ value: SPARQLFormats.n3, name: \"N3\" },\n\t\t\t],\n\t\t},\n\t\tconstruct: {\n\t\t\tname: \"CONSTRUCT\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.jsonLD, name: \"JSON-LD\" },\n\t\t\t\t{ value: SPARQLFormats.turtle, name: \"TURTLE\" },\n\t\t\t\t{ value: SPARQLFormats.jsonRDF, name: \"RDF/JSON\" },\n\t\t\t\t{ value: SPARQLFormats.rdfXML, name: \"RDF/XML\" },\n\t\t\t\t{ value: SPARQLFormats.n3, name: \"N3\" },\n\t\t\t],\n\t\t},\n\t\task: {\n\t\t\tname: \"ASK\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.boolean, name: \"Boolean\" },\n\t\t\t],\n\t\t},\n\t\tupdate: {\n\t\t\tname: \"UPDATE\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.text, name: \"Text\" },\n\t\t\t]\n\t\t},\n\t\tclear: {\n\t\t\tname: \"CLEAR\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.text, name: \"Text\" },\n\t\t\t]\n\t\t},\n\t\tinsert: {\n\t\t\tname: \"INSERT\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.text, name: \"Text\" },\n\t\t\t]\n\t\t},\n\t\t\"delete\": {\n\t\t\tname: \"DELETE\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.text, name: \"Text\" },\n\t\t\t]\n\t\t},\n\t\tdrop: {\n\t\t\tname: \"DROP\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.text, name: \"Text\" },\n\t\t\t]\n\t\t},\n\t\tload: {\n\t\t\tname: \"LOAD\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.text, name: \"Text\" },\n\t\t\t]\n\t\t},\n\t\tcreate: {\n\t\t\tname: \"CREATE\",\n\t\t\tformats: [\n\t\t\t\t{ value: SPARQLFormats.text, name: \"Text\" },\n\t\t\t]\n\t\t}\n\t};\n\n\tisQueryType:boolean = true;\n\tisSending:boolean = false;\n\tisSaving:boolean = false;\n\tisCarbonContext:boolean = false;\n\tresponses:SPARQLClientResponse[] = [];\n\n\n\tcurrentQuery:SPARQLQuery = <SPARQLQuery>{\n\t\tendpoint: \"\",\n\t\ttype: this.sparqlTypes.query,\n\t\tcontent: \"\",\n\t\toperation: null,\n\t\tformat: null,\n\t\tname: \"\",\n\t};\n\taskingQuery:SPARQLQuery = <SPARQLQuery>{\n\t\tendpoint: \"\",\n\t\ttype: this.sparqlTypes.query,\n\t\tcontent: \"\",\n\t\toperation: null,\n\t\tformat: null,\n\t\tname: \"\",\n\t};\n\tformatsAvailable:any = [];\n\tsavedQueries:SPARQLQuery[] = [];\n\tmessages:any[] = [];\n\n\t// Buttons\n\tbtnsGroupSaveQuery:JQuery;\n\tbtnSaveQuery:JQuery;\n\tbtnSave:JQuery;\n\tbtnSaveAs:JQuery;\n\t// Sidebar\n\tsidebar:JQuery;\n\t// Modals\n\treplaceQueryConfirmationModal:JQuery;\n\tdeleteQueryConfirmationModal:JQuery;\n\n\t// Regex\n\tregExpSelect:RegExp = new RegExp( \"((.|\\n)+)?SELECT((.|\\n)+)?\", \"i\" );\n\tregExpConstruct:RegExp = new RegExp( \"((.|\\n)+)?CONSTRUCT((.|\\n)+)?\", \"i\" );\n\tregExpAsk:RegExp = new RegExp( \"((.|\\n)+)?ASK((.|\\n)+)?\", \"i\" );\n\tregExpDescribe:RegExp = new RegExp( \"((.|\\n)+)?DESCRIBE((.|\\n)+)?\", \"i\" );\n\tregExpURL:RegExp = new RegExp( \"(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})\" );\n\tregExpInsert:RegExp = new RegExp( \"((.|\\n)+)?INSERT((.|\\n)+)?\", \"i\" );\n\tregExpDelete:RegExp = new RegExp( \"((.|\\n)+)?DELETE((.|\\n)+)?\", \"i\" );\n\tregExpClear:RegExp = new RegExp( \"((.|\\n)+)?CLEAR((.|\\n)+)?\", \"i\" );\n\tregExpCreate:RegExp = new RegExp( \"((.|\\n)+)?CREATE((.|\\n)+)?\", \"i\" );\n\tregExpDrop:RegExp = new RegExp( \"((.|\\n)+)?DROP((.|\\n)+)?\", \"i\" );\n\tregExpLoad:RegExp = new RegExp( \"((.|\\n)+)?LOAD((.|\\n)+)?\", \"i\" );\n\n\t// Inputs and Outputs\n\t@Input() context:Context;\n\t@Input() emitErrors:boolean = false;\n\t@Output() errorOccurs:EventEmitter<any> = new EventEmitter();\n\n\tprivate element:ElementRef;\n\t// TODO: Make them configurable\n\tprivate prefixes:{ [ prefix:string ]:string } = {\n\t\t\"acl\": \"http://www.w3.org/ns/auth/acl#\",\n\t\t\"api\": \"http://purl.org/linked-data/api/vocab#\",\n\t\t\"c\": \"https://carbonldp.com/ns/v1/platform#\",\n\t\t\"cs\": \"https://carbonldp.com/ns/v1/security#\",\n\t\t\"cp\": \"https://carbonldp.com/ns/v1/patch#\",\n\t\t\"cc\": \"http://creativecommons.org/ns#\",\n\t\t\"cert\": \"http://www.w3.org/ns/auth/cert#\",\n\t\t\"dbp\": \"http://dbpedia.org/property/\",\n\t\t\"dc\": \"http://purl.org/dc/terms/\",\n\t\t\"dc11\": \"http://purl.org/dc/elements/1.1/\",\n\t\t\"dcterms\": \"http://purl.org/dc/terms/\",\n\t\t\"doap\": \"http://usefulinc.com/ns/doap#\",\n\t\t\"example\": \"http://example.org/ns#\",\n\t\t\"ex\": \"http://example.org/ns#\",\n\t\t\"exif\": \"http://www.w3.org/2003/12/exif/ns#\",\n\t\t\"fn\": \"http://www.w3.org/2005/xpath-functions#\",\n\t\t\"foaf\": \"http://xmlns.com/foaf/0.1/\",\n\t\t\"geo\": \"http://www.w3.org/2003/01/geo/wgs84_pos#\",\n\t\t\"geonames\": \"http://www.geonames.org/ontology#\",\n\t\t\"gr\": \"http://purl.org/goodrelations/v1#\",\n\t\t\"http\": \"http://www.w3.org/2006/http#\",\n\t\t\"ldp\": \"http://www.w3.org/ns/ldp#\",\n\t\t\"log\": \"http://www.w3.org/2000/10/swap/log#\",\n\t\t\"owl\": \"http://www.w3.org/2002/07/owl#\",\n\t\t\"rdf\": \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",\n\t\t\"rdfs\": \"http://www.w3.org/2000/01/rdf-schema#\",\n\t\t\"rei\": \"http://www.w3.org/2004/06/rei#\",\n\t\t\"rsa\": \"http://www.w3.org/ns/auth/rsa#\",\n\t\t\"rss\": \"http://purl.org/rss/1.0/\",\n\t\t\"sd\": \"http://www.w3.org/ns/sparql-service-description#\",\n\t\t\"sfn\": \"http://www.w3.org/ns/sparql#\",\n\t\t\"sioc\": \"http://rdfs.org/sioc/ns#\",\n\t\t\"skos\": \"http://www.w3.org/2004/02/skos/core#\",\n\t\t\"swrc\": \"http://swrc.ontoware.org/ontology#\",\n\t\t\"types\": \"http://rdfs.org/sioc/types#\",\n\t\t\"vcard\": \"http://www.w3.org/2001/vcard-rdf/3.0#\",\n\t\t\"wot\": \"http://xmlns.com/wot/0.1/\",\n\t\t\"xhtml\": \"http://www.w3.org/1999/xhtml#\",\n\t\t\"xsd\": \"http://www.w3.org/2001/XMLSchema#\",\n\t};\n\tprivate $element:JQuery;\n\tprivate carbon:Carbon;\n\tprivate _sparql:string = \"\";\n\tprivate _endpoint:string = \"\";\n\n\t// Getters and Setters\n\tget codeMirrorMode():typeof CodeMirrorComponent.Mode { return CodeMirrorComponent.Mode; }\n\n\tget sparql():string { return this._sparql; }\n\n\tset sparql( value:string ) {\n\t\tthis._sparql = value;\n\t\tthis.currentQuery.content = value;\n\t\tthis.sparqlChanged();\n\t}\n\n\tget endpoint():string { return this._endpoint; }\n\n\tset endpoint( value:string ) {\n\t\tthis._endpoint = value;\n\t\tthis.endpointChanged();\n\t}\n\n\tconstructor( element:ElementRef, carbon:Carbon ) {\n\t\tthis.element = element;\n\t\tthis.isSending = false;\n\t\tthis.savedQueries = this.getLocalSavedQueries() || [];\n\t\tthis.carbon = carbon;\n\t}\n\n\tngOnInit():void {\n\t\tif( ! this.context ) {\n\t\t\tthis.context = this.carbon;\n\t\t\tthis.isCarbonContext = true;\n\t\t} else {\n\t\t\tthis.endpoint = this.context.getBaseURI();\n\t\t}\n\t}\n\n\tngAfterViewInit():void {\n\t\tthis.$element = $( this.element.nativeElement );\n\t\tthis.btnSaveQuery = this.$element.find( \".btnSaveQuery\" );\n\t\tthis.btnsGroupSaveQuery = this.$element.find( \".btnsGroupSaveQuery\" );\n\t\tthis.btnSave = this.btnsGroupSaveQuery.find( \".btnSave\" );\n\t\tthis.btnSaveAs = this.btnsGroupSaveQuery.find( \".btnSaveAs\" );\n\t\tthis.sidebar = this.$element.find( \".query-builder .ui.sidebar\" );\n\t\tthis.btnsGroupSaveQuery.find( \".dropdown\" ).dropdown();\n\t\tthis.replaceQueryConfirmationModal = this.$element.find( \".ui.replace-query-confirmation.modal\" );\n\t\tthis.deleteQueryConfirmationModal = this.$element.find( \".ui.delete-query-confirmation.modal\" );\n\t\tthis.initializeSavedQueriesSidebar();\n\t\tthis.initializeModal();\n\t}\n\n\tonChangeQueryType( $event:JQueryEventObject ):void {\n\t\tlet type:string = (<HTMLInputElement>$event.target).value;\n\t\tthis.isQueryType = type === this.sparqlTypes.query;\n\t}\n\n\t/**\n\t * Updates the currentQuery and the available formats depending on the SPARQL Query Operation\n\t * Triggered whenever the user writes code inside the CodeMirror text area.\n\t */\n\tsparqlChanged():void {\n\t\tlet operation:string = this.getSPARQLOperation( this.sparql );\n\t\tif( operation !== null && this.sparqlQueryOperations[ operation.toLowerCase() ] ) {\n\t\t\toperation = operation.toLowerCase();\n\t\t\tthis.formatsAvailable = this.sparqlQueryOperations[ operation ].formats;\n\t\t\tif( this.formatsAvailable.indexOf( this.currentQuery.format ) === - 1 ) {\n\t\t\t\tthis.currentQuery.format = this.sparqlQueryOperations[ operation ].formats[ 0 ].value;\n\t\t\t}\n\t\t\tthis.currentQuery.type = this.sparqlTypes.query;\n\t\t\tlet queryOperations:string[] = [ \"select\", \"describe\", \"construct\", \"ask\" ];\n\t\t\tif( queryOperations.indexOf( operation ) === - 1 ) this.currentQuery.type = this.sparqlTypes.update;\n\t\t\tthis.currentQuery.operation = operation.toUpperCase();\n\t\t} else {\n\t\t\tthis.currentQuery.format = null;\n\t\t\tthis.currentQuery.operation = \"update\";\n\t\t\tthis.formatsAvailable = <any>[];\n\t\t}\n\t}\n\n\t/**\n\t * Updates the currentQuery endpoints according to the context in which the editor is working.\n\t * Triggered whenever the user writes the endpoint URI.\n\t */\n\tendpointChanged():void {\n\t\tif( this.regExpURL.test( this.endpoint ) ) {\n\t\t\tthis.currentQuery.endpoint = this.endpoint;\n\t\t} else {\n\t\t\tthis.currentQuery.endpoint = this.context.getBaseURI() + this.endpoint;\n\t\t}\n\t}\n\n\t/**\n\t * Identifies which SPARL Query Operation will be called\n\t * @param query  String. The content of the Code Mirror plugin.\n\t * @returns      String. The name of the main SPARQL Query Operation.\n\t */\n\tgetSPARQLOperation( query:string ):string {\n\t\tswitch( true ) {\n\t\t\tcase (this.regExpSelect.test( query )):\n\t\t\t\treturn this.sparqlQueryOperations.select.name;\n\t\t\tcase (this.regExpConstruct.test( query )):\n\t\t\t\treturn this.sparqlQueryOperations.construct.name;\n\t\t\tcase (this.regExpAsk.test( query )):\n\t\t\t\treturn this.sparqlQueryOperations.ask.name;\n\t\t\tcase (this.regExpDescribe.test( query )):\n\t\t\t\treturn this.sparqlQueryOperations.describe.name;\n\t\t\tcase (this.regExpInsert.test( query )):\n\t\t\t\treturn this.sparqlQueryOperations.insert.name;\n\t\t\tcase (this.regExpDelete.test( query )):\n\t\t\t\treturn this.sparqlQueryOperations.delete.name;\n\t\t\tcase (this.regExpClear.test( query )):\n\t\t\t\treturn this.sparqlQueryOperations.clear.name;\n\t\t\tcase (this.regExpCreate.test( query )):\n\t\t\t\treturn this.sparqlQueryOperations.create.name;\n\t\t\tcase (this.regExpDrop.test( query )):\n\t\t\t\treturn this.sparqlQueryOperations.drop.name;\n\t\t\tcase (this.regExpLoad.test( query )):\n\t\t\t\treturn this.sparqlQueryOperations.load.name;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\tonReExecute( originalResponse:SPARQLClientResponse ):void {\n\t\toriginalResponse.isReExecuting = true;\n\t\tthis.execute( originalResponse.query, originalResponse ).then(\n\t\t\t( newResponse:SPARQLClientResponse ) => {\n\t\t\t\toriginalResponse.duration = newResponse.duration;\n\t\t\t\toriginalResponse.resultset = Object.assign( {}, newResponse.resultset );\n\t\t\t\toriginalResponse.setData = Object.assign( {}, newResponse.resultset );\n\t\t\t\toriginalResponse.query = Object.assign( {}, newResponse.query );\n\t\t\t\toriginalResponse.isReExecuting = false;\n\t\t\t}\n\t\t).catch(\n\t\t\t( error:any ) => {\n\t\t\t\toriginalResponse.isReExecuting = false;\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t);\n\t}\n\n\tonExecute():void {\n\t\tthis.isSending = true;\n\t\tlet query:SPARQLQuery = Object.assign( {}, this.currentQuery );\n\n\t\tthis.execute( query, null ).then(\n\t\t\t( response:SPARQLClientResponse ) => {\n\t\t\t\tthis.addResponse( response );\n\t\t\t\treturn response;\n\t\t\t}\n\t\t).catch(\n\t\t\t( error:any ) => {\n\t\t\t\tif( this.emitErrors ) {\n\t\t\t\t\tthis.errorOccurs.emit( this.getMessage( error ) );\n\t\t\t\t} else {\n\t\t\t\t\tthis.messages.push( this.getMessage( error ) );\n\t\t\t\t}\n\t\t\t} );\n\t}\n\n\tonErase():void {\n\t\tthis.currentQuery.type = this.sparqlTypes.query;\n\t\tthis.sparql = \"\";\n\t\tthis.endpoint = \"\";\n\t}\n\n\texecute( query:SPARQLQuery, activeResponse?:SPARQLClientResponse ):Promise<SPARQLClientResponse> {\n\t\tlet type:string = query.type;\n\t\tif( activeResponse ) {\n\t\t\tquery = activeResponse.query;\n\t\t}\n\t\tlet promise:Promise<SPARQLClientResponse> = null;\n\t\tswitch( type ) {\n\t\t\tcase this.sparqlTypes.query:\n\t\t\t\tpromise = this.executeQuery( query );\n\t\t\t\tbreak;\n\t\t\tcase this.sparqlTypes.update:\n\t\t\t\tpromise = this.executeUPDATE( query );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// Unsupported Operation\n\t\t\t\tpromise = new Promise( ( resolve:() => string, reject:( msg:string ) => string ) => {\n\t\t\t\t\treject( \"Unsupported Type\" );\n\t\t\t\t} );\n\t\t}\n\n\t\treturn promise.then(\n\t\t\t( response:SPARQLClientResponse ) => {\n\t\t\t\t// Response Success\n\t\t\t\tthis.isSending = false;\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\t( error:any ) => {\n\t\t\t\t// Response Fail\n\t\t\t\tthis.isSending = false;\n\t\t\t\treturn Promise.reject( error );\n\t\t\t}\n\t\t);\n\t}\n\n\texecuteQuery( query:SPARQLQuery ):Promise<SPARQLClientResponse> {\n\t\tthis.isSending = true;\n\t\tswitch( query.operation ) {\n\t\t\tcase this.sparqlQueryOperations.select.name:\n\t\t\t\treturn this.executeSELECT( query );\n\t\t\tcase this.sparqlQueryOperations.describe.name:\n\t\t\t\treturn this.executeDESCRIBE( query );\n\t\t\tcase this.sparqlQueryOperations.construct.name:\n\t\t\t\treturn this.executeCONSTRUCT( query );\n\t\t\tcase this.sparqlQueryOperations.ask.name:\n\t\t\t\treturn this.executeASK( query );\n\t\t\tdefault:\n\t\t\t\t// Unsupported Operation\n\t\t\t\treturn Promise.reject<SPARQLClientResponse>( \"Unsupported Operation\" );\n\t\t}\n\t}\n\n\texecuteSELECT( query:SPARQLQuery ):Promise<SPARQLClientResponse> {\n\t\tlet beforeTimestamp:number = ( new Date() ).valueOf();\n\t\treturn this.context.documents.executeRawSELECTQuery( query.endpoint, query.content ).then(\n\t\t\t( [ result, response ]:[ SPARQL.RawResults.Class, HTTP.Response.Class ] ):SPARQLClientResponse => {\n\t\t\t\tlet duration:number = (new Date()).valueOf() - beforeTimestamp;\n\t\t\t\treturn this.buildResponse( duration, result, <string> SPARQLResponseType.success, query );\n\t\t\t},\n\t\t\t( error:HTTP.Errors.Error ):Promise<SPARQLClientResponse> => {\n\t\t\t\treturn this.handleError( error, query, beforeTimestamp );\n\t\t\t} );\n\t}\n\n\texecuteDESCRIBE( query:SPARQLQuery ):Promise<SPARQLClientResponse> {\n\t\tlet beforeTimestamp:number = ( new Date() ).valueOf();\n\t\tlet requestOptions:HTTP.Request.Options = { headers: new Map().set( \"Accept\", new HTTP.Header.Class( query.format ) ) };\n\t\treturn this.context.documents.executeRawDESCRIBEQuery( query.endpoint, query.content, requestOptions ).then(\n\t\t\t( [ result, response ]:[ string, HTTP.Response.Class ] ):SPARQLClientResponse => {\n\t\t\t\tlet duration:number = (new Date()).valueOf() - beforeTimestamp;\n\t\t\t\treturn this.buildResponse( duration, result, <string> SPARQLResponseType.success, query );\n\t\t\t},\n\t\t\t( error:HTTP.Errors.Error ):Promise<SPARQLClientResponse> => {\n\t\t\t\treturn this.handleError( error, query, beforeTimestamp );\n\t\t\t} );\n\t}\n\n\texecuteCONSTRUCT( query:SPARQLQuery ):Promise<SPARQLClientResponse> {\n\t\tlet beforeTimestamp:number = ( new Date() ).valueOf();\n\t\tlet requestOptions:HTTP.Request.Options = { headers: new Map().set( \"Accept\", new HTTP.Header.Class( query.format ) ) };\n\t\treturn this.context.documents.executeRawCONSTRUCTQuery( query.endpoint, query.content, requestOptions ).then(\n\t\t\t( [ result, response ]:[ string, HTTP.Response.Class ] ):SPARQLClientResponse => {\n\t\t\t\tlet duration:number = (new Date()).valueOf() - beforeTimestamp;\n\t\t\t\treturn this.buildResponse( duration, result, <string> SPARQLResponseType.success, query );\n\t\t\t},\n\t\t\t( error:HTTP.Errors.Error ):Promise<SPARQLClientResponse> => {\n\t\t\t\treturn this.handleError( error, query, beforeTimestamp );\n\t\t\t} );\n\t}\n\n\texecuteASK( query:SPARQLQuery ):Promise<SPARQLClientResponse> {\n\t\tlet beforeTimestamp:number = ( new Date() ).valueOf();\n\t\treturn this.context.documents.executeRawASKQuery( query.endpoint, query.content ).then(\n\t\t\t( [ result, response ]:[ SPARQL.RawResults.Class, HTTP.Response.Class ] ):SPARQLClientResponse => {\n\t\t\t\tlet duration:number = (new Date()).valueOf() - beforeTimestamp;\n\t\t\t\treturn this.buildResponse( duration, result, <string> SPARQLResponseType.success, query );\n\t\t\t},\n\t\t\t( error:HTTP.Errors.Error ):Promise<SPARQLClientResponse> => {\n\t\t\t\treturn this.handleError( error, query, beforeTimestamp );\n\t\t\t} );\n\t}\n\n\texecuteUPDATE( query:SPARQLQuery ):Promise<SPARQLClientResponse> {\n\t\tthis.isSending = true;\n\t\tlet beforeTimestamp:number = ( new Date() ).valueOf();\n\t\treturn this.context.documents.executeUPDATE( query.endpoint, query.content ).then(\n\t\t\t( result:HTTP.Response.Class ):SPARQLClientResponse => {\n\t\t\t\tlet duration:number = (new Date()).valueOf() - beforeTimestamp;\n\t\t\t\treturn this.buildResponse( duration, (<XMLHttpRequest>result.request).status + \" - \" + (<XMLHttpRequest>result.request).statusText, <string> SPARQLResponseType.success, query );\n\t\t\t},\n\t\t\t( error:HTTP.Errors.Error ):Promise<SPARQLClientResponse> => {\n\t\t\t\treturn this.handleError( error, query, beforeTimestamp );\n\t\t\t} );\n\t}\n\n\tcanExecute():boolean {\n\t\treturn ! ! (this.currentQuery.endpoint && this.currentQuery.type && this.currentQuery.content && this.currentQuery.operation && this.currentQuery.format);\n\t}\n\n\tcanSaveQuery():boolean {\n\t\treturn ! ! (this.currentQuery.endpoint && this.currentQuery.type && this.currentQuery.content && this.currentQuery.operation && this.currentQuery.format && this.currentQuery.name);\n\t}\n\n\tcanErase():boolean {\n\t\treturn ( ! ! this.endpoint || ! ! this.sparql);\n\t}\n\n\tonEmptyStack():void {\n\t\tthis.responses = [];\n\t}\n\n\tonRemove( response:any ):void {\n\t\tlet idx:number = this.responses.indexOf( response );\n\t\tif( idx > - 1 ) this.responses.splice( idx, 1 );\n\t}\n\n\tonConfigureResponse( response:SPARQLClientResponse ):void {\n\t\tlet configureQuery:SPARQLQuery = this.askingQuery = Object.assign( {}, response.query );\n\t\tif( JSON.stringify( this.currentQuery ) !== JSON.stringify( configureQuery ) ) {\n\t\t\tthis.toggleReplaceQueryConfirmationModal();\n\t\t} else {\n\t\t\tthis.loadQuery( configureQuery );\n\t\t}\n\t}\n\n\taddResponse( response:SPARQLClientResponse ):void {\n\t\tlet responsesLength:number = this.responses.length, i:number;\n\t\tfor( i = responsesLength; i > 0; i -- ) {\n\t\t\tthis.responses[ i ] = this.responses[ i - 1 ];\n\t\t}\n\t\tthis.responses[ 0 ] = response;\n\t}\n\n\tonClickSaveQuery():void {\n\t\tlet query:SPARQLQuery = <SPARQLQuery>{\n\t\t\tendpoint: this.currentQuery.endpoint,\n\t\t\ttype: this.currentQuery.type,\n\t\t\tcontent: this.currentQuery.content,\n\t\t\toperation: this.currentQuery.operation,\n\t\t\tformat: this.currentQuery.format,\n\t\t\tname: this.currentQuery.name,\n\t\t\tid: this.savedQueries.length,\n\t\t};\n\t\tthis.isSaving = true;\n\t\tthis.savedQueries = this.getLocalSavedQueries();\n\t\tthis.savedQueries.push( query );\n\t\tthis.updateLocalSavedQueries();\n\t\tsetInterval( () => {\n\t\t\tthis.isSaving = false;\n\t\t}, 500 );\n\t}\n\n\tonClickSaveExistingQuery():void {\n\t\tthis.savedQueries = this.getLocalSavedQueries();\n\t\tlet queryIdx:number = - 1;\n\t\tthis.savedQueries.forEach( ( iteratingQuery:SPARQLQuery, index:number ) => {\n\t\t\tif( iteratingQuery.id === this.currentQuery.id ) {\n\t\t\t\tqueryIdx = index;\n\t\t\t}\n\t\t} );\n\t\tif( queryIdx > - 1 ) {\n\t\t\tthis.savedQueries[ queryIdx ] = <SPARQLQuery> {\n\t\t\t\tendpoint: this.currentQuery.endpoint,\n\t\t\t\ttype: this.currentQuery.type,\n\t\t\t\tcontent: this.currentQuery.content,\n\t\t\t\toperation: this.currentQuery.operation,\n\t\t\t\tformat: this.currentQuery.format,\n\t\t\t\tname: this.currentQuery.name,\n\t\t\t\tid: this.currentQuery.id,\n\t\t\t};\n\t\t} else {\n\t\t\tthis.currentQuery.id = this.savedQueries.length;\n\t\t\tthis.savedQueries.push( this.currentQuery );\n\t\t}\n\t\tthis.updateLocalSavedQueries();\n\t}\n\n\tonClickSavedQuery( selectedQuery:SPARQLQuery ):void {\n\t\tif( ! ! this.currentQuery.endpoint || ! ! this.currentQuery.content ) {\n\t\t\tif( ! ! this.currentQuery.endpoint && ! ! this.currentQuery.content ) {\n\t\t\t\tif( JSON.stringify( this.currentQuery ) !== JSON.stringify( selectedQuery ) ) {\n\t\t\t\t\tthis.askConfirmationToReplace( selectedQuery );\n\t\t\t\t} else {\n\t\t\t\t\tthis.loadQuery( selectedQuery );\n\t\t\t\t\tthis.toggleSidebar();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( (! ! this.currentQuery.endpoint && this.currentQuery.endpoint === selectedQuery.endpoint) ||\n\t\t\t\t\t(! ! this.currentQuery.content && this.currentQuery.content === selectedQuery.content) ) {\n\t\t\t\t\tthis.loadQuery( selectedQuery );\n\t\t\t\t\tthis.toggleSidebar();\n\t\t\t\t} else {\n\t\t\t\t\tthis.askConfirmationToReplace( selectedQuery );\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.loadQuery( selectedQuery );\n\t\t\tthis.toggleSidebar();\n\t\t}\n\t}\n\n\taskConfirmationToReplace( selectedQuery:SPARQLQuery ):void {\n\t\tthis.askingQuery = Object.assign( {}, selectedQuery );\n\t\tthis.toggleReplaceQueryConfirmationModal();\n\t}\n\n\tonClickRemoveSavedQuery( index:number ):void {\n\t\tthis.savedQueries = this.getLocalSavedQueries();\n\t\tthis.askingQuery = this.savedQueries[ index ];\n\t\tthis.toggleDeleteQueryConfirmationModal();\n\t}\n\n\tremoveQuery( query:SPARQLQuery ):void {\n\t\tthis.savedQueries = this.getLocalSavedQueries();\n\t\tlet index:number = this.savedQueries.indexOf( query );\n\t\tthis.savedQueries.splice( index, 1 );\n\t\tthis.updateLocalSavedQueries();\n\t}\n\n\tloadQuery( query:SPARQLQuery ):void {\n\t\tthis.currentQuery = Object.assign( {}, query );\n\t\tthis.askingQuery = Object.assign( {}, query );\n\t\tthis.endpoint = query.endpoint;\n\t\tthis.sparql = query.content;\n\t}\n\n\tinitializeSavedQueriesSidebar():void {\n\t\tthis.sidebar.sidebar( {\n\t\t\tcontext: this.$element.find( \".query-builder .pushable\" ),\n\t\t} );\n\t}\n\n\tinitializeModal():void {\n\t\tthis.deleteQueryConfirmationModal.modal( {\n\t\t\tclosable: false,\n\t\t\tblurring: true,\n\t\t} );\n\t\tthis.replaceQueryConfirmationModal.modal( {\n\t\t\tclosable: false,\n\t\t\tblurring: true,\n\t\t} );\n\t}\n\n\ttoggleReplaceQueryConfirmationModal():void {\n\t\tthis.replaceQueryConfirmationModal.modal( \"toggle\" );\n\t}\n\n\ttoggleDeleteQueryConfirmationModal():void {\n\t\tthis.deleteQueryConfirmationModal.modal( \"toggle\" );\n\t}\n\n\tonApproveQueryReplacement( approvedQuery:SPARQLQuery ):void {\n\t\tthis.askingQuery = <SPARQLQuery>{};\n\t\tthis.loadQuery( approvedQuery );\n\t\tthis.hideSidebar();\n\t}\n\n\tonApproveQueryRemoval( approvedQuery:SPARQLQuery ):void {\n\t\tthis.removeQuery( approvedQuery );\n\t\tthis.askingQuery = <SPARQLQuery>{};\n\t}\n\n\tgetLocalSavedQueries():SPARQLQuery[] {\n\t\tif( ! window.localStorage.getItem( \"savedQueries\" ) )\n\t\t\tthis.updateLocalSavedQueries();\n\t\treturn <SPARQLQuery[]>JSON.parse( window.localStorage.getItem( \"savedQueries\" ) );\n\t}\n\n\tupdateLocalSavedQueries():void {\n\t\twindow.localStorage.setItem( \"savedQueries\", JSON.stringify( this.savedQueries ) );\n\t}\n\n\ttoggleSidebar():void {\n\t\tthis.sidebar.sidebar( \"toggle\" );\n\t}\n\n\thideSidebar():void {\n\t\tthis.sidebar.sidebar( \"hide\" );\n\t}\n\n\tcloseMessage( evt:any ):void {\n\t\t$( evt.srcElement ).closest( \".ui.message\" ).transition( \"fade\" );\n\t}\n\n\tgetMessage( error:any ):Message {\n\t\tswitch( typeof error ) {\n\t\t\tcase \"string\":\n\t\t\t\treturn <Message>{\n\t\t\t\t\ttitle: error,\n\t\t\t\t\tcontent: \"\",\n\t\t\t\t\tstatusCode: \"\",\n\t\t\t\t\tstatusMessage: \"\",\n\t\t\t\t\tendpoint: \"\",\n\t\t\t\t\ttype:\"error\",\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\treturn ErrorMessageGenerator.getErrorMessage( error );;\n\t\t}\n\t}\n\n\tbuildResponse( duration:number, resultset:SPARQL.RawResults.Class|string|Message, responseType:string, query:SPARQLQuery ):SPARQLClientResponse {\n\t\tlet clientResponse:SPARQLClientResponse = new SPARQLClientResponse();\n\t\tclientResponse.duration = duration;\n\t\tclientResponse.resultset = resultset;\n\t\tclientResponse.setData( resultset );\n\t\tclientResponse.query = query;\n\t\tclientResponse.result = responseType;\n\t\treturn clientResponse;\n\t}\n\n\thandleError( error:HTTP.Errors.Error, query:SPARQLQuery, beforeTimestamp:number ):Promise<SPARQLClientResponse> {\n\t\tlet duration:number = (new Date()).valueOf() - beforeTimestamp;\n\t\treturn new Promise<SPARQLClientResponse>(\n\t\t\t( resolve, reject ) => {\n\t\t\t\tlet stackErrors:number[] = [ 400, 403, 404, 413, 414, 429 ];\n\t\t\t\t// TODO implement login modal when 401\n\t\t\t\tif( stackErrors.indexOf( error.response.status ) > - 1 ) {\n\t\t\t\t\tlet errorMessage:Message = this.getMessage( error );\n\t\t\t\t\tlet errorResponse:SPARQLClientResponse = this.buildResponse( duration, errorMessage, <string> SPARQLResponseType.error, query );\n\t\t\t\t\tresolve( errorResponse );\n\t\t\t\t} else {\n\t\t\t\t\treject( error );\n\t\t\t\t}\n\t\t\t}\n\t\t).then(\n\t\t\t( response:SPARQLClientResponse ) => {\n\t\t\t\treturn response;\n\t\t\t},\n\t\t\t( _error:HTTP.Errors.Error ) => {\n\t\t\t\treturn Promise.reject( _error );\n\t\t\t}\n\t\t);\n\t}\n}\n\nexport interface SPARQLQueryOperationFormat {\n\tname:string;\n\tvalue:string;\n}\nexport interface SPARQLQueryOperation {\n\tname:string;\n\tformats:SPARQLQueryOperationFormat[];\n}\nexport interface SPARQLQueryOperations {\n\tselect:SPARQLQueryOperation;\n\tdescribe:SPARQLQueryOperation;\n\tconstruct:SPARQLQueryOperation;\n\task:SPARQLQueryOperation;\n\tinsert:SPARQLQueryOperation;\n\t\"delete\":SPARQLQueryOperation;\n\tclear:SPARQLQueryOperation;\n\tcreate:SPARQLQueryOperation;\n\tdrop:SPARQLQueryOperation;\n\tload:SPARQLQueryOperation;\n}\nexport interface SPARQLTypes {\n\tquery:string;\n\tupdate:string;\n}\nexport default SPARQLClientComponent;\n"]}