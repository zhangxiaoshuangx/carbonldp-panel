{"version":3,"sources":["paginator/paginator.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;YAUA;gBAoBC;oBAlBQ,UAAK,GAAY,EAAE,CAAC;oBAEpB,gBAAW,GAAU,CAAC,CAAC;oBAUtB,oBAAe,GAAU,CAAC,CAAC;oBAC3B,kBAAa,GAAU,CAAC,CAAC;oBAExB,iBAAY,GAAwB,IAAI,mBAAY,EAAU,CAAC;gBAG1D,CAAC;gBAfP,sBAAI,0CAAU;yBAKvB;wBACC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;oBACzB,CAAC;yBAPQ,UAAgB,KAAY;wBACpC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;wBACzB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAE,IAAI,CAAC,UAAU,CAAE,CAAC;oBAC3C,CAAC;;;mBAAA;;gBAcD,wCAAW,GAAX,UAAa,OAA0C;oBACtD,EAAE,CAAA,CAAE,CAAE,CAAE,CAAE,OAAO,CAAE,eAAe,CAAE,IAAI,OAAO,CAAE,eAAe,CAAE,CAAC,YAAY,KAAK,OAAO,CAAE,eAAe,CAAE,CAAC,aAAa,CAAE;wBAC7H,CAAE,CAAE,CAAE,OAAO,CAAE,iBAAiB,CAAE,IAAI,OAAO,CAAE,iBAAiB,CAAE,CAAC,YAAY,KAAK,OAAO,CAAE,iBAAiB,CAAE,CAAC,aAAa,CAAG,CAAC,CAAC,CAAC;wBACpI,IAAI,CAAC,WAAW,EAAE,CAAC;oBACpB,CAAC;gBACF,CAAC;gBAEO,sCAAS,GAAjB,UAAmB,KAAY;oBAC9B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACzB,CAAC;gBAEO,qCAAQ,GAAhB;oBACC,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,EAAG,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC5D,CAAC;gBAEO,iCAAI,GAAZ;oBACC,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,EAAG,GAAG,IAAI,CAAC,UAAU,CAAC;gBAChF,CAAC;gBAEO,wCAAW,GAAnB;oBACC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAC7B,EAAE,CAAA,CAAE,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAE,CAAC,CAAC,CAAC;wBACpE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAE,CAAC;oBACvD,CAAC;gBACF,CAAC;gBAEO,qCAAQ,GAAhB;oBACC,IAAI,KAAK,GAAY,EAAE,CAAC;oBACxB,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,CAAE,CAAC;oBACvG,GAAG,CAAA,CAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE,CAAC,EAAG,EAAG,CAAC;wBACvC,KAAK,CAAC,IAAI,CAAE,CAAC,CAAE,CAAC;oBACjB,CAAC;oBACD,MAAM,CAAC,KAAK,CAAC;gBACd,CAAC;gBAlDD;oBAAC,YAAK,EAAE;;;oEAAA;gBASR;oBAAC,YAAK,EAAE;;2EAAA;gBACR;oBAAC,YAAK,EAAE;;yEAAA;gBAER;oBAAC,aAAM,EAAE;;wEAAA;gBAvBV;oBAAC,gBAAS,CAAE;wBACX,QAAQ,EAAE,cAAc;wBACxB,QAAQ,EAAE,kCAAQ;wBAClB,MAAM,EAAE,CAAE,yBAAyB,CAAE;qBACrC,CAAE;;sCAAA;gBA0DH,yBAAC;YAAD,CAxDA,AAwDC,IAAA;YAxDD,mDAwDC,CAAA;YAED,oBAAe,kBAAkB,EAAC","file":"paginator.component.js","sourcesContent":["import { Component, Input, Output, EventEmitter, OnChanges, SimpleChange } from \"@angular/core\";\r\n\r\nimport template from \"./paginator.component.html!\";\r\n\r\n@Component( {\r\n\tselector: \"cp-paginator\",\r\n\ttemplate: template,\r\n\tstyles: [ \":host{ display:block; }\" ],\r\n} )\r\n\r\nexport class PaginatorComponent implements OnChanges {\r\n\r\n\tprivate pages:number[] = [];\r\n\r\n\tprivate _activePage:number = 0;\r\n\t@Input() set activePage( value:number ) {\r\n\t\tthis._activePage = value;\r\n\t\tthis.onPageChange.emit( this.activePage );\r\n\t};\r\n\r\n\tget activePage():number {\r\n\t\treturn this._activePage;\r\n\t}\r\n\r\n\t@Input() elementsPerPage:number = 5;\r\n\t@Input() totalElements:number = 0;\r\n\r\n\t@Output() onPageChange:EventEmitter<number> = new EventEmitter<number>();\r\n\r\n\r\n\tconstructor() {}\r\n\r\n\tngOnChanges( changes:{ [propName:string]:SimpleChange } ):void {\r\n\t\tif( ( ! ! changes[ \"totalElements\" ] && changes[ \"totalElements\" ].currentValue !== changes[ \"totalElements\" ].previousValue ) ||\r\n\t\t\t( ! ! changes[ \"elementsPerPage\" ] && changes[ \"elementsPerPage\" ].currentValue !== changes[ \"elementsPerPage\" ].previousValue ) ) {\r\n\t\t\tthis.updatePages();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate pageClick( index:number ):void {\r\n\t\tthis.activePage = index;\r\n\t}\r\n\r\n\tprivate previous():void {\r\n\t\tthis.activePage > 0 ? this.activePage -- : this.activePage;\r\n\t}\r\n\r\n\tprivate next():void {\r\n\t\tthis.activePage + 1 < this.pages.length ? this.activePage ++ : this.activePage;\r\n\t}\r\n\r\n\tprivate updatePages():void {\r\n\t\tthis.pages = this.getPages();\r\n\t\tif( this.activePage >= this.pages.length && this.pages.length > 0 ) {\r\n\t\t\tthis.activePage = this.pages[ this.pages.length - 1 ];\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getPages():number[] {\r\n\t\tlet pages:number[] = [];\r\n\t\tlet totalPages = this.totalElements === 0 ? 0 : Math.ceil( this.totalElements / this.elementsPerPage );\r\n\t\tfor( let i = 0; i < totalPages; i ++ ) {\r\n\t\t\tpages.push( i );\r\n\t\t}\r\n\t\treturn pages;\r\n\t}\r\n}\r\n\r\nexport default PaginatorComponent;\r\n"]}