{"version":3,"sources":["menu-bar.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAgBA;gBAQC,0BAAa,MAAa,EAAE,aAA2B,EAAE,cAA6B,EAAE,KAAoB;oBAP5G,gBAAW,GAAc,EAAE,CAAC;oBAQ3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;oBACrB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;oBACnC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;gBACtC,CAAC;gBAED,mCAAQ,GAAR;oBAAA,iBAyBC;oBAxBA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAE,UAAE,KAAK;wBACpC,EAAE,CAAA,CAAE,CAAE,CAAC,KAAK,YAAY,sBAAa,CAAG,CAAC;4BAAC,MAAM,CAAC;wBACjD,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;wBACtB,IAAI,GAAG,GAAU,EAAE,EAClB,YAAY,GAAG,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC;wBAChC,GAAG,CAAC;4BACH,IAAI,cAAc,GAAG,YAAY,CAAC,QAAQ,CAAC;4BAC3C,YAAY,GAAG,IAAI,CAAC;4BACpB,cAAc,CAAC,OAAO,CAAE,UAAE,KAAoB;gCAC7C,EAAE,CAAA,CAAE,KAAK,CAAC,MAAM,KAAK,SAAU,CAAC,CAAC,CAAC;oCACjC,IAAI,aAAa,GAA0B,KAAK,CAAC,QAAQ,CAAC;oCAC1D,EAAE,CAAA,CAAE,OAAO,aAAa,KAAK,WAAY,CAAC;wCAAC,MAAM,CAAC;oCAClD,GAAG,IAAI,KAAI,CAAC,MAAM,CAAE,aAAa,CAAE,CAAC;oCACpC,EAAE,CAAA,CAAE,CAAE,CAAE,aAAa,CAAC,IAAI,CAAE,aAAa,CAAG,CAAC,CAAC,CAAC;wCAC9C,KAAI,CAAC,WAAW,CAAC,IAAI,CAAE;4CACtB,KAAK,EAAE,GAAG;4CACV,WAAW,EAAE,aAAa,CAAC,IAAI,CAAE,aAAa,CAAE;yCAChD,CAAE,CAAC;oCACL,CAAC;oCACD,YAAY,GAAG,KAAK,CAAC;gCACtB,CAAC;4BACF,CAAC,CAAE,CAAA;wBACJ,CAAC,QAAQ,YAAY,EAAG;oBACzB,CAAC,CAAE,CAAA;gBACJ,CAAC;gBAEO,iCAAM,GAAd,UAAgB,aAAoC;oBACnD,IAAI,GAAG,GAAU,EAAE,CAAC;oBACpB,EAAE,CAAA,CAAE,aAAa,CAAC,IAAI,CAAE,OAAO,CAAG,CAAC;wBAClC,GAAG,IAAI,GAAG,GAAG,aAAa,CAAC,MAAM,CAAE,aAAa,CAAC,IAAI,CAAE,OAAO,CAAE,CAAE,CAAC;oBACpE,IAAI,CAAC,EAAE,CAAA,CAAE,aAAa,CAAC,IAAI,CAAE,OAAO,CAAG,CAAC;wBACvC,GAAG,IAAI,GAAG,GAAG,aAAa,CAAC,IAAI,CAAE,OAAO,CAAE,CAAC;oBAC5C,MAAM,CAAC,GAAG,CAAC;gBACZ,CAAC;gBAED,wCAAa,GAAb;oBACC,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;gBAC9B,CAAC;gBA1DF;oBAAC,gBAAS,CAAE;wBACX,QAAQ,EAAE,aAAa;wBACvB,QAAQ,EAAE,iCAAQ;wBAClB,MAAM,EAAE,CAAE,qCAAK,CAAE;qBACjB,CAAE;;oCAAA;gBAuDH,uBAAC;YAAD,CAtDA,AAsDC,IAAA;YAtDD,+CAsDC,CAAA;YAED,oBAAe,gBAAgB,EAAC","file":"menu-bar.component.js","sourcesContent":["import { Component } from \"@angular/core\";\nimport { Router, NavigationEnd, ActivatedRoute, ActivatedRouteSnapshot } from \"@angular/router\";\n\nimport { RouterService } from \"carbon-panel/router.service\";\nimport { SidebarService } from \"carbon-panel/sidebar.service\";\n\nimport \"semantic-ui/semantic\";\n\nimport template from \"./menu-bar.component.html!\";\nimport style from \"./menu-bar.component.css!text\";\n\n@Component( {\n\tselector: \"cp-menu-bar\",\n\ttemplate: template,\n\tstyles: [ style ],\n} )\nexport class MenuBarComponent {\n\tbreadCrumbs:Array<any> = [];\n\n\tprivate router:Router;\n\tprivate routerService:RouterService;\n\tprivate sidebarService:SidebarService;\n\tprivate route:ActivatedRoute;\n\n\tconstructor( router:Router, routerService:RouterService, sidebarService:SidebarService, route:ActivatedRoute ) {\n\t\tthis.route = route;\n\t\tthis.router = router;\n\t\tthis.routerService = routerService;\n\t\tthis.sidebarService = sidebarService;\n\t}\n\n\tngOnInit():void {\n\t\tthis.router.events.subscribe( ( event ) => {\n\t\t\tif( ! (event instanceof NavigationEnd ) ) return;\n\t\t\tthis.breadCrumbs = [];\n\t\t\tlet url:string = \"\",\n\t\t\t\tcurrentRoute = this.route.root;\n\t\t\tdo {\n\t\t\t\tlet childrenRoutes = currentRoute.children;\n\t\t\t\tcurrentRoute = null;\n\t\t\t\tchildrenRoutes.forEach( ( route:ActivatedRoute ) => {\n\t\t\t\t\tif( route.outlet === \"primary\" ) {\n\t\t\t\t\t\tlet routeSnapshot:ActivatedRouteSnapshot = route.snapshot;\n\t\t\t\t\t\tif( typeof routeSnapshot === \"undefined\" ) return;\n\t\t\t\t\t\turl += this.getURL( routeSnapshot );\n\t\t\t\t\t\tif( ! ! routeSnapshot.data[ \"displayName\" ] ) {\n\t\t\t\t\t\t\tthis.breadCrumbs.push( {\n\t\t\t\t\t\t\t\talias: url,\n\t\t\t\t\t\t\t\tdisplayName: routeSnapshot.data[ \"displayName\" ],\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentRoute = route;\n\t\t\t\t\t}\n\t\t\t\t} )\n\t\t\t} while( currentRoute );\n\t\t} )\n\t}\n\n\tprivate getURL( routeSnapshot:ActivatedRouteSnapshot ):string {\n\t\tlet url:string = \"\";\n\t\tif( routeSnapshot.data[ \"param\" ] )\n\t\t\turl += \"/\" + routeSnapshot.params[ routeSnapshot.data[ \"param\" ] ];\n\t\telse if( routeSnapshot.data[ \"alias\" ] )\n\t\t\turl += \"/\" + routeSnapshot.data[ \"alias\" ];\n\t\treturn url;\n\t}\n\n\ttoggleSidebar():void {\n\t\tthis.sidebarService.toggle();\n\t}\n}\n\nexport default MenuBarComponent;\n"],"sourceRoot":"/source/"}