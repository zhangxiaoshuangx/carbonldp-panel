<h2 class="ui header">
	<i class="icons">
		<i class="thin circle blue icon"></i>
		<i class="corner thin circle icon"></i>
	</i>
	Blank Nodes
</h2>
<div class="ui section divider"></div>
<div class="ui top attached tabular blank-nodes menu">
	<a class="item active" data-tab="all">All Nodes</a>
	<a class="item"
	   *ngFor="let blankNode of openedBlankNodes; let i = index;"
	   [attr.data-tab]="'blankNode_'+escape(blankNode.id)">
		<p>
			{{ blankNode.id }}
			<button class="circular ui icon basic mini button" (click)="closeBlankNode(blankNode)">
				<i class="icon close"></i>
			</button>
		</p>
	</a>
</div>
<div class="ui bottom attached tab segment active" data-tab="all">
	<button class="ui basic compact labeled right icon button" (click)="createBlankNode()">
		<i class="plus icon"></i>
		Add Blank Node
	</button>
	<table class="ui small very compact striped selectable celled table" *ngIf="blankNodes.length > 0">
		<thead>
			<tr>
				<th>@id</th>
				<th>https://carbonldp.com/ns/v1/platform#bNodeIdentifier</th>
			</tr>
		</thead>
		<tbody>
			<template ngFor let-blankNode="$implicit" [ngForOf]="blankNodes" let-i="index">
				<tr [ngClass]="{ added:!!blankNode.added, modified:!!blankNode.modified }"
				    (click)="openBlankNode(blankNode)">
					<td>
						{{ blankNode.id }}
					</td>
					<td>
						<span *ngIf="blankNode.bNodeIdentifier">
							{{ blankNode.bNodeIdentifier}}
						</span>
					</td>
				</tr>
			</template>
			<!--<tr *ngFor="let bNode of bNodes; let i = index;"-->
			<!--(click)="openBNode(bNode)">-->
			<!--<td>-->
			<!--{{ bNode["@id"] }}-->
			<!--</td>-->
			<!--<td>-->
			<!--<span *ngIf="!!bNode['https://carbonldp.com/ns/v1/platform#bNodeIdentifier']">-->
			<!--{{ bNode['https://carbonldp.com/ns/v1/platform#bNodeIdentifier'][0]["@value"] }}-->
			<!--</span>-->
			<!--</td>-->
			<!--</tr>-->
		</tbody>
	</table>
	<div class="ui message" *ngIf="!blankNodes || blankNodes.length===0">
		<p>No blank nodes to show.</p>
	</div>
</div>
<div class="ui bottom attached tab segment"
     *ngFor="let blankNode of openedBlankNodes; let i = index;" [attr.data-tab]="'blankNode_'+escape(blankNode.id)">
	<cp-blank-node class="column"
	               [documentURI]="documentURI"
	               [blankNode]="blankNode"
	               [blankNodes]="blankNodes"
	               [namedFragments]="namedFragments"
	               (onOpenBNode)="openBNode( $event )"
	               (onOpenNamedFragment)="openNamedFragment($event)"
	               (onChanges)="changeBlankNode($event, bNode)">
	</cp-blank-node>
</div>